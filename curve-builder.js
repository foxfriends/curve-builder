/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Editor/Edge.js":
/*!****************************!*\
  !*** ./src/Editor/Edge.js ***!
  \****************************/
/*! exports provided: Edge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Edge\", function() { return Edge; });\nconst [START, END] = Symbol.generate('START', 'END');\nclass Edge {\n  constructor(start, end) {\n    this[START] = start;\n    this[END] = end;\n  }\n\n  get start() {\n    return this[START];\n  }\n\n  get end() {\n    return this[END];\n  }\n\n  get id() {\n    return `${this.start.id}_${this.end.id}`;\n  }\n\n  toString() {\n    return `M${this.start.x},${this.start.y} ${this.end.toString()}`;\n  }\n\n  render() {}\n\n  renderFocus() {}\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRWRpdG9yL0VkZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRWRpdG9yL0VkZ2UuanM/NDJlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBbU1RBUlQsIEVORF0gPSBTeW1ib2wuZ2VuZXJhdGUoJ1NUQVJUJywgJ0VORCcpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVkZ2Uge1xyXG4gIGNvbnN0cnVjdG9yKHN0YXJ0LCBlbmQpIHtcclxuICAgIHRoaXNbU1RBUlRdID0gc3RhcnQ7XHJcbiAgICB0aGlzW0VORF0gPSBlbmQ7XHJcbiAgfVxyXG5cclxuICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzW1NUQVJUXTsgfVxyXG4gIGdldCBlbmQoKSB7IHJldHVybiB0aGlzW0VORF07IH1cclxuICBnZXQgaWQoKSB7IHJldHVybiBgJHt0aGlzLnN0YXJ0LmlkfV8ke3RoaXMuZW5kLmlkfWA7IH1cclxuXHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gYE0ke3RoaXMuc3RhcnQueH0sJHt0aGlzLnN0YXJ0Lnl9ICR7dGhpcy5lbmQudG9TdHJpbmcoKX1gO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge31cclxuICByZW5kZXJGb2N1cygpIHt9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBaEJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Editor/Edge.js\n");

/***/ }),

/***/ "./src/Editor/Node.js":
/*!****************************!*\
  !*** ./src/Editor/Node.js ***!
  \****************************/
/*! exports provided: Node, Move, Line, Cubic, ContinueCubic, Quadratic, ContinueQuadratic, Arc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Node\", function() { return Node; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Move\", function() { return Move; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Line\", function() { return Line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Cubic\", function() { return Cubic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContinueCubic\", function() { return ContinueCubic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Quadratic\", function() { return Quadratic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContinueQuadratic\", function() { return ContinueQuadratic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Arc\", function() { return Arc; });\n/* harmony import */ var _utility_Keypath__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/Keypath */ \"./src/utility/Keypath.js\");\n/* harmony import */ var _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/Iterator */ \"./src/utility/Iterator.js\");\n/* harmony import */ var _utility_Option__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/Option */ \"./src/utility/Option.js\");\n/* harmony import */ var _utility_Svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utility/Svg */ \"./src/utility/Svg.js\");\n/* harmony import */ var _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utility/Geometry */ \"./src/utility/Geometry.js\");\n\n\n\n\n\nconst [KEY, TYPE, POINTS] = Symbol.generate('KEY', 'TYPE', 'POINTS');\nlet nodeKey = 0;\nclass Node {\n  constructor(type, ...points) {\n    var _context;\n\n    this[KEY] = `node-${nodeKey++}`;\n    this[TYPE] = type;\n    this[POINTS] = (_context = _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"map\"].call(points, Math.floor), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"collect\"]).call(_context, Array);\n  }\n\n  get id() {\n    return this[KEY];\n  }\n\n  toString() {\n    return `${this[TYPE]}${this[POINTS].join(',')}`;\n  }\n\n  get point() {\n    return new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](this.x, this.y);\n  }\n\n  render(group) {\n    var _context3;\n\n    const circle = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_2__[\"maybe\"])(group.querySelector('.node')).valueOrElse(() => {\n      var _context2;\n\n      const circle = (_context2 = (_context2 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])('circle'), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context2, 'r', 4), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context2, 'class', 'node');\n      group.appendChild(circle);\n      return circle;\n    });\n    (_context3 = _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"].call(circle, 'cx', this.x), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context3, 'cy', this.y);\n    const controlNodes = group.querySelectorAll('.control');\n    (_context3 = (_context3 = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_2__[\"maybe\"])(this.control1), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"filter\"]).call(_context3, point => !point.equals(this.point)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"collect\"]).call(_context3, _utility_Option__WEBPACK_IMPORTED_MODULE_2__[\"Option\"]).match({\n      None: () => {\n        var _context4;\n\n        return (_context4 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"nth\"].call(controlNodes, 0), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"forEach\"]).call(_context4, _utility_Keypath__WEBPACK_IMPORTED_MODULE_0__[\"位\"].remove());\n      },\n      Some: ({\n        x,\n        y\n      }) => {\n        var _context5;\n\n        return (_context5 = (_context5 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"nth\"].call(controlNodes, 0).valueOrElse(() => {\n          var _context6;\n\n          const circle = (_context6 = (_context6 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])('circle'), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context6, 'r', 4), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context6, 'class', 'control');\n          group.appendChild(circle);\n          return circle;\n        }), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context5, 'cx', x), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context5, 'cy', y);\n      }\n    });\n    const control2 = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_2__[\"maybe\"])(group.querySelectorAll('.control')[1]);\n    (_context3 = (_context3 = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_2__[\"maybe\"])(this.control2), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"filter\"]).call(_context3, point => !point.equals(this.point)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"collect\"]).call(_context3, _utility_Option__WEBPACK_IMPORTED_MODULE_2__[\"Option\"]).match({\n      None: () => {\n        var _context7;\n\n        return (_context7 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"nth\"].call(controlNodes, 1), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"forEach\"]).call(_context7, _utility_Keypath__WEBPACK_IMPORTED_MODULE_0__[\"位\"].remove());\n      },\n      Some: ({\n        x,\n        y\n      }) => {\n        var _context8;\n\n        return (_context8 = (_context8 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"nth\"].call(controlNodes, 1).valueOrElse(() => {\n          var _context9;\n\n          const circle = (_context9 = (_context9 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])('circle'), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context9, 'r', 4), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context9, 'class', 'control');\n          group.appendChild(circle);\n          return circle;\n        }), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context8, 'cx', x), _utility_Svg__WEBPACK_IMPORTED_MODULE_3__[\"setAttribute\"]).call(_context8, 'cy', y);\n      }\n    });\n  }\n\n}\nclass Move extends Node {\n  constructor(x, y) {\n    super('M', x, y);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new Move(x, y);\n  }\n\n  get control1() {\n    return this.point;\n  }\n\n  get control2() {\n    return this.point;\n  }\n\n  get x() {\n    return this[POINTS][0];\n  }\n\n  get y() {\n    return this[POINTS][1];\n  }\n\n}\nclass Line extends Node {\n  constructor(x, y) {\n    super('L', x, y);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new Line(x, y);\n  }\n\n  get control2() {\n    return this.point;\n  }\n\n  get x() {\n    return this[POINTS][0];\n  }\n\n  get y() {\n    return this[POINTS][1];\n  }\n\n}\nclass Cubic extends Node {\n  constructor(cx1, cy1, cx2, cy2, ex, ey) {\n    super('C', cx1, cy1, cx2, cy2, ex, ey);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new Cubic(...this.control1, ...this.control2.follow(this.point, new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](x, y)), x, y);\n  }\n\n  get control1() {\n    return new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](this[POINTS][0], this[POINTS][1]);\n  }\n\n  get control2() {\n    return new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](this[POINTS][2], this[POINTS][3]);\n  }\n\n  get x() {\n    return this[POINTS][4];\n  }\n\n  get y() {\n    return this[POINTS][5];\n  }\n\n}\nclass ContinueCubic extends Node {\n  constructor(cx2, cy2, ex, ey) {\n    super('S', cx2, cy2, ex, ey);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new ContinueCubic(...this.control2.follow(this.point, new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](x, y)), x, y);\n  }\n\n  get control2() {\n    return new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](this[POINTS][0], this[POINTS][1]);\n  }\n\n  get x() {\n    return this[POINTS][2];\n  }\n\n  get y() {\n    return this[POINTS][3];\n  }\n\n}\nclass Quadratic extends Node {\n  constructor(cx2, cy2, ex, ey) {\n    super('Q', cx2, cy2, ex, ey);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new Quadratic(...this.control1, x, y);\n  }\n\n  get control1() {\n    return new _utility_Geometry__WEBPACK_IMPORTED_MODULE_4__[\"Point\"](this[POINTS][0], this[POINTS][1]);\n  }\n\n  get control2() {\n    return this.control1;\n  }\n\n  get x() {\n    return this[POINTS][2];\n  }\n\n  get y() {\n    return this[POINTS][3];\n  }\n\n}\nclass ContinueQuadratic extends Node {\n  constructor(ex, ey) {\n    super('T', ex, ey);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new ContinueQuadratic(x, y);\n  }\n\n  get x() {\n    return this[POINTS][0];\n  }\n\n  get y() {\n    return this[POINTS][1];\n  }\n\n}\nclass Arc extends Node {\n  constructor(rx, ry, rotation, arc, sweep, ex, ey) {\n    super('A', rx, ry, rotation, arc, sweep, ex, ey);\n  }\n\n  move({\n    x,\n    y\n  }) {\n    return new Arc(...this[POINTS].slice(0, 5), x, y);\n  }\n\n  get xRadius() {\n    return this[POINTS][0];\n  }\n\n  get yRadius() {\n    return this[POINTS][1];\n  }\n\n  get rotation() {\n    return this[POINTS][2];\n  }\n\n  get arc() {\n    return this[POINTS][3];\n  }\n\n  get sweep() {\n    return this[POINTS][4];\n  }\n\n  get x() {\n    return this[POINTS][5];\n  }\n\n  get y() {\n    return this[POINTS][6];\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRWRpdG9yL05vZGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRWRpdG9yL05vZGUuanM/NDA2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfLCDOuyB9IGZyb20gJy4uL3V0aWxpdHkvS2V5cGF0aCc7XHJcbmltcG9ydCB7IG1hcCwgZmlsdGVyLCBudGgsIGZvckVhY2gsIGNvbGxlY3QgfSBmcm9tICcuLi91dGlsaXR5L0l0ZXJhdG9yJztcclxuaW1wb3J0IHsgT3B0aW9uLCBOb25lLCBTb21lLCBtYXliZSB9IGZyb20gJy4uL3V0aWxpdHkvT3B0aW9uJztcclxuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgc2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vdXRpbGl0eS9TdmcnO1xyXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL3V0aWxpdHkvR2VvbWV0cnknO1xyXG5cclxuY29uc3QgW0tFWSwgVFlQRSwgUE9JTlRTXSA9IFN5bWJvbC5nZW5lcmF0ZSgnS0VZJywgJ1RZUEUnLCAnUE9JTlRTJyk7XHJcblxyXG5sZXQgbm9kZUtleSA9IDA7XHJcbmV4cG9ydCBjbGFzcyBOb2RlIHtcclxuICBjb25zdHJ1Y3Rvcih0eXBlLCAuLi5wb2ludHMpIHtcclxuICAgIHRoaXNbS0VZXSA9IGBub2RlLSR7bm9kZUtleSsrfWA7XHJcbiAgICB0aGlzW1RZUEVdID0gdHlwZTtcclxuICAgIHRoaXNbUE9JTlRTXSA9IHBvaW50czo6bWFwKE1hdGguZmxvb3IpOjpjb2xsZWN0KEFycmF5KTtcclxuICB9XHJcblxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiB0aGlzW0tFWV07XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiBgJHt0aGlzW1RZUEVdfSR7dGhpc1tQT0lOVFNdLmpvaW4oJywnKX1gO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBvaW50KCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfVxyXG5cclxuICByZW5kZXIoZ3JvdXApIHtcclxuICAgIGNvbnN0IGNpcmNsZSA9IG1heWJlKGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy5ub2RlJykpLnZhbHVlT3JFbHNlKCgpID0+IHtcclxuICAgICAgY29uc3QgY2lyY2xlID0gY3JlYXRlRWxlbWVudCgnY2lyY2xlJylcclxuICAgICAgICA6OnNldEF0dHJpYnV0ZSgncicsIDQpXHJcbiAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vZGUnKTtcclxuICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQoY2lyY2xlKTtcclxuICAgICAgcmV0dXJuIGNpcmNsZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNpcmNsZVxyXG4gICAgICA6OnNldEF0dHJpYnV0ZSgnY3gnLCB0aGlzLngpXHJcbiAgICAgIDo6c2V0QXR0cmlidXRlKCdjeScsIHRoaXMueSk7XHJcblxyXG4gICAgY29uc3QgY29udHJvbE5vZGVzID0gZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2wnKTtcclxuICAgIG1heWJlKHRoaXMuY29udHJvbDEpXHJcbiAgICAgIDo6ZmlsdGVyKHBvaW50ID0+ICFwb2ludC5lcXVhbHModGhpcy5wb2ludCkpXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pXHJcbiAgICAgIC5tYXRjaCh7XHJcbiAgICAgICAgTm9uZTogKCkgPT4gY29udHJvbE5vZGVzOjpudGgoMCk6OmZvckVhY2gozrsucmVtb3ZlKCkpLFxyXG4gICAgICAgIFNvbWU6ICh7IHgsIHkgfSkgPT4gY29udHJvbE5vZGVzOjpudGgoMClcclxuICAgICAgICAgIC52YWx1ZU9yRWxzZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZSA9IGNyZWF0ZUVsZW1lbnQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ3InLCA0KVxyXG4gICAgICAgICAgICAgIDo6c2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250cm9sJyk7XHJcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjaXJjbGU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ2N4JywgeClcclxuICAgICAgICAgIDo6c2V0QXR0cmlidXRlKCdjeScsIHkpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGNvbnRyb2wyID0gbWF5YmUoZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2wnKVsxXSlcclxuICAgIG1heWJlKHRoaXMuY29udHJvbDIpXHJcbiAgICAgIDo6ZmlsdGVyKHBvaW50ID0+ICFwb2ludC5lcXVhbHModGhpcy5wb2ludCkpXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pXHJcbiAgICAgIC5tYXRjaCh7XHJcbiAgICAgICAgTm9uZTogKCkgPT4gY29udHJvbE5vZGVzOjpudGgoMSk6OmZvckVhY2gozrsucmVtb3ZlKCkpLFxyXG4gICAgICAgIFNvbWU6ICh7IHgsIHkgfSkgPT4gY29udHJvbE5vZGVzOjpudGgoMSlcclxuICAgICAgICAgIC52YWx1ZU9yRWxzZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZSA9IGNyZWF0ZUVsZW1lbnQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ3InLCA0KVxyXG4gICAgICAgICAgICAgIDo6c2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250cm9sJyk7XHJcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjaXJjbGU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ2N4JywgeClcclxuICAgICAgICAgIDo6c2V0QXR0cmlidXRlKCdjeScsIHkpXHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBOb2RlIHtcclxuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICBzdXBlcignTScsIHgsIHkpO1xyXG4gIH1cclxuXHJcbiAgbW92ZSh7IHgsIHkgfSkgeyByZXR1cm4gbmV3IE1vdmUoeCwgeSk7IH1cclxuICBnZXQgY29udHJvbDEoKSB7IHJldHVybiB0aGlzLnBvaW50OyB9XHJcbiAgZ2V0IGNvbnRyb2wyKCkgeyByZXR1cm4gdGhpcy5wb2ludDsgfVxyXG4gIGdldCB4KCkgeyByZXR1cm4gdGhpc1tQT0lOVFNdWzBdOyB9XHJcbiAgZ2V0IHkoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bMV07IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExpbmUgZXh0ZW5kcyBOb2RlIHtcclxuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICBzdXBlcignTCcsIHgsIHkpO1xyXG4gIH1cclxuXHJcbiAgbW92ZSh7IHgsIHkgfSkgeyByZXR1cm4gbmV3IExpbmUoeCwgeSk7IH1cclxuICBnZXQgY29udHJvbDIoKSB7IHJldHVybiB0aGlzLnBvaW50OyB9XHJcbiAgZ2V0IHgoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bMF07IH1cclxuICBnZXQgeSgpIHsgcmV0dXJuIHRoaXNbUE9JTlRTXVsxXTsgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ3ViaWMgZXh0ZW5kcyBOb2RlIHtcclxuICBjb25zdHJ1Y3RvcihjeDEsIGN5MSwgY3gyLCBjeTIsIGV4LCBleSkge1xyXG4gICAgc3VwZXIoJ0MnLCBjeDEsIGN5MSwgY3gyLCBjeTIsIGV4LCBleSk7XHJcbiAgfVxyXG5cclxuICBtb3ZlKHsgeCwgeSB9KSB7IHJldHVybiBuZXcgQ3ViaWMoLi4udGhpcy5jb250cm9sMSwgLi4udGhpcy5jb250cm9sMi5mb2xsb3codGhpcy5wb2ludCwgbmV3IFBvaW50KHgsIHkpKSwgeCwgeSk7IH1cclxuICBnZXQgY29udHJvbDEoKSB7IHJldHVybiBuZXcgUG9pbnQodGhpc1tQT0lOVFNdWzBdLCB0aGlzW1BPSU5UU11bMV0pOyB9XHJcbiAgZ2V0IGNvbnRyb2wyKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXNbUE9JTlRTXVsyXSwgdGhpc1tQT0lOVFNdWzNdKTsgfVxyXG4gIGdldCB4KCkgeyByZXR1cm4gdGhpc1tQT0lOVFNdWzRdOyB9XHJcbiAgZ2V0IHkoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bNV07IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRpbnVlQ3ViaWMgZXh0ZW5kcyBOb2RlIHtcclxuICBjb25zdHJ1Y3RvcihjeDIsIGN5MiwgZXgsIGV5KSB7XHJcbiAgICBzdXBlcignUycsIGN4MiwgY3kyLCBleCwgZXkpO1xyXG4gIH1cclxuXHJcbiAgbW92ZSh7IHgsIHkgfSkgeyByZXR1cm4gbmV3IENvbnRpbnVlQ3ViaWMoLi4udGhpcy5jb250cm9sMi5mb2xsb3codGhpcy5wb2ludCwgbmV3IFBvaW50KHgsIHkpKSwgeCwgeSk7IH1cclxuICBnZXQgY29udHJvbDIoKSB7IHJldHVybiBuZXcgUG9pbnQodGhpc1tQT0lOVFNdWzBdLCB0aGlzW1BPSU5UU11bMV0pOyB9XHJcbiAgZ2V0IHgoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bMl07IH1cclxuICBnZXQgeSgpIHsgcmV0dXJuIHRoaXNbUE9JTlRTXVszXTsgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUXVhZHJhdGljIGV4dGVuZHMgTm9kZSB7XHJcbiAgY29uc3RydWN0b3IoY3gyLCBjeTIsIGV4LCBleSkge1xyXG4gICAgc3VwZXIoJ1EnLCBjeDIsIGN5MiwgZXgsIGV5KTtcclxuICB9XHJcblxyXG4gIG1vdmUoeyB4LCB5IH0pIHsgcmV0dXJuIG5ldyBRdWFkcmF0aWMoLi4udGhpcy5jb250cm9sMSwgeCwgeSk7IH1cclxuXHJcbiAgZ2V0IGNvbnRyb2wxKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXNbUE9JTlRTXVswXSwgdGhpc1tQT0lOVFNdWzFdKTsgfVxyXG4gIGdldCBjb250cm9sMigpIHsgcmV0dXJuIHRoaXMuY29udHJvbDE7IH1cclxuICBnZXQgeCgpIHsgcmV0dXJuIHRoaXNbUE9JTlRTXVsyXTsgfVxyXG4gIGdldCB5KCkgeyByZXR1cm4gdGhpc1tQT0lOVFNdWzNdOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb250aW51ZVF1YWRyYXRpYyBleHRlbmRzIE5vZGUge1xyXG4gIGNvbnN0cnVjdG9yKGV4LCBleSkge1xyXG4gICAgc3VwZXIoJ1QnLCBleCwgZXkpO1xyXG4gIH1cclxuXHJcbiAgbW92ZSh7IHgsIHkgfSkgeyByZXR1cm4gbmV3IENvbnRpbnVlUXVhZHJhdGljKHgsIHkpOyB9XHJcbiAgZ2V0IHgoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bMF07IH1cclxuICBnZXQgeSgpIHsgcmV0dXJuIHRoaXNbUE9JTlRTXVsxXTsgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXJjIGV4dGVuZHMgTm9kZSB7XHJcbiAgY29uc3RydWN0b3IocngsIHJ5LCByb3RhdGlvbiwgYXJjLCBzd2VlcCwgZXgsIGV5KSB7XHJcbiAgICBzdXBlcignQScsIHJ4LCByeSwgcm90YXRpb24sIGFyYywgc3dlZXAsIGV4LCBleSk7XHJcbiAgfVxyXG5cclxuICBtb3ZlKHsgeCwgeSB9KSB7IHJldHVybiBuZXcgQXJjKC4uLnRoaXNbUE9JTlRTXS5zbGljZSgwLCA1KSwgeCwgeSk7IH1cclxuXHJcbiAgZ2V0IHhSYWRpdXMoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bMF07IH1cclxuICBnZXQgeVJhZGl1cygpIHsgcmV0dXJuIHRoaXNbUE9JTlRTXVsxXTsgfVxyXG5cclxuICBnZXQgcm90YXRpb24oKSB7IHJldHVybiB0aGlzW1BPSU5UU11bMl07IH1cclxuICBnZXQgYXJjKCkgeyByZXR1cm4gdGhpc1tQT0lOVFNdWzNdOyB9XHJcbiAgZ2V0IHN3ZWVwKCkgeyByZXR1cm4gdGhpc1tQT0lOVFNdWzRdOyB9XHJcblxyXG4gIGdldCB4KCkgeyByZXR1cm4gdGhpc1tQT0lOVFNdWzVdOyB9XHJcbiAgZ2V0IHkoKSB7IHJldHVybiB0aGlzW1BPSU5UU11bNl07IH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBUEE7QUFGQTtBQWNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFQQTtBQUZBO0FBYUE7QUFDQTtBQWxFQTtBQW9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFoQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Editor/Node.js\n");

/***/ }),

/***/ "./src/Editor/Path.js":
/*!****************************!*\
  !*** ./src/Editor/Path.js ***!
  \****************************/
/*! exports provided: Path */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Path\", function() { return Path; });\n/* harmony import */ var _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/Iterator */ \"./src/utility/Iterator.js\");\n/* harmony import */ var _utility_Svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/Svg */ \"./src/utility/Svg.js\");\n/* harmony import */ var _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/Keypath */ \"./src/utility/Keypath.js\");\n/* harmony import */ var _utility_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utility/Option */ \"./src/utility/Option.js\");\n/* harmony import */ var _Node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Node */ \"./src/Editor/Node.js\");\n/* harmony import */ var _Edge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Edge */ \"./src/Editor/Edge.js\");\n/* harmony import */ var _utility_Geometry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utility/Geometry */ \"./src/utility/Geometry.js\");\n\n\n\n\n\n\n\nconst [KEY, NODES, CLOSED] = Symbol.generate('KEY', 'NODES', 'CLOSED');\n\nclass UnresolvablePoint extends Error {\n  constructor() {\n    super('Cannot resolve `point` of `Node`');\n  }\n\n}\n\nclass NonexistentFocus extends Error {\n  constructor() {\n    super('Focused `Node` does not exist in this `Path`');\n  }\n\n}\n\nlet pathKey = 0;\nclass Path {\n  constructor(basis = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"], node = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"]) {\n    basis.match({\n      None: () => {\n        this[CLOSED] = false;\n        this[KEY] = `path-${pathKey++}`;\n        this[NODES] = [...node];\n      },\n      Some: basis => {\n        this[CLOSED] = basis[CLOSED];\n        this[KEY] = basis[KEY];\n        this[NODES] = [...basis[NODES], ...node];\n      }\n    });\n  }\n\n  get isClosed() {\n    return this[CLOSED];\n  }\n\n  get id() {\n    return this[KEY];\n  }\n\n  get length() {\n    return this[NODES].length;\n  } // firstControlPoint(index) {\n  //   return maybe(this[NODES][index].control1)\n  //     .valueOrElse(() => this.previousControlPoint(index + 1))\n  // }\n\n\n  secondControlPoint(index) {\n    // eventually converges: the first node has the trivial `control2` point.\n    return Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"maybe\"])(this[NODES][index].control2).valueOrElse(() => this.nextControlPoint(index - 1));\n  }\n\n  nextControlPoint(node) {\n    let index = node;\n\n    if (typeof node === 'number') {\n      node = this[NODES][index];\n    } else {\n      index = this[NODES].indexOf(node);\n    }\n\n    return this.secondControlPoint(index).reflectOver(node.point);\n  }\n\n  isStart(node) {\n    return this[NODES][0] === node && !this.isClosed;\n  }\n\n  isEnd(node) {\n    return this[NODES][this[NODES].length - 1] === node && !this.isClosed;\n  }\n\n  contains(id) {\n    var _context;\n\n    return (_context = (_context = this.nodes, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"chain\"]).call(_context, this.edges), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"find\"]).call(_context, node => node.id === id).isSome;\n  }\n\n  append(node) {\n    const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n    clone[NODES].push(node);\n    return clone;\n  }\n\n  prepend(node) {\n    const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n    const oldPosition = clone[NODES][0].point;\n    const {\n      x,\n      y\n    } = node.point;\n    clone[NODES][0] = node.move(oldPosition);\n    clone[NODES].unshift(new _Node__WEBPACK_IMPORTED_MODULE_4__[\"Move\"](x, y));\n    return clone;\n  }\n\n  closed() {\n    if (this.isClosed || this.length === 1) {\n      return this;\n    }\n\n    const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n    clone[CLOSED] = true;\n    return clone;\n  }\n\n  moveNode(node, x, y) {\n    var _context2;\n\n    return (_context2 = (_context2 = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"maybe\"])(this[NODES].indexOf(node)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context2, index => {\n      const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      clone[NODES][index] = node.move(new _utility_Geometry__WEBPACK_IMPORTED_MODULE_6__[\"Point\"](x, y));\n      return clone;\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context2, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr(this);\n  }\n\n  deleteNode(node) {\n    var _context3;\n\n    return (_context3 = (_context3 = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"maybe\"])(this[NODES].indexOf(node)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context3, index => {\n      if (index === 0) {\n        if (this[NODES].length === 1) {\n          return [];\n        }\n\n        const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n        clone[NODES][1] = clone[NODES][0].move(clone[NODES][1].point);\n        clone[NODES].shift();\n        clone[CLOSED] = false;\n        return [clone];\n      } else if (index === this[NODES].length - 1) {\n        const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n        clone[NODES].pop();\n        clone[CLOSED] = false;\n        return [clone];\n      } else if (this.isClosed) {\n        const clone = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n        const left = clone[NODES].slice(0, index);\n        const right = clone[NODES].slice(index + 1);\n        left[0] = new _Node__WEBPACK_IMPORTED_MODULE_4__[\"Line\"](...left[0].point);\n        right[0] = new _Node__WEBPACK_IMPORTED_MODULE_4__[\"Move\"](...right[0].point);\n        clone[NODES] = [...right, ...left];\n        clone[CLOSED] = false;\n        return [clone];\n      } else {\n        const left = new Path(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n        left[NODES] = left[NODES].slice(0, index);\n        const right = new Path();\n        right[NODES] = this[NODES].slice(index + 1);\n        right[NODES][0] = new _Node__WEBPACK_IMPORTED_MODULE_4__[\"Move\"](...right[NODES][0].point);\n        return [left, right];\n      }\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context3, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr([this]);\n  }\n\n  node(id) {\n    var _context4;\n\n    return (_context4 = this.nodes, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"findIndex\"]).call(_context4, node => node.id === id);\n  }\n\n  edge(id) {\n    var _context5;\n\n    return (_context5 = this.edges, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"findIndex\"]).call(_context5, edge => edge.id === id);\n  }\n\n  get nodes() {\n    return this[NODES];\n  }\n\n  get edges() {\n    var _context6;\n\n    return (_context6 = (_context6 = (_context6 = this[NODES], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"zip\"]).call(_context6, (_context6 = this[NODES], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"skip\"]).call(_context6, 1)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context6, ([start, end]) => new _Edge__WEBPACK_IMPORTED_MODULE_5__[\"Edge\"](start, end)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"chain\"]).call(_context6, this.isClosed ? Object(_utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"of\"])(new _Edge__WEBPACK_IMPORTED_MODULE_5__[\"Edge\"](this[NODES][this[NODES].length - 1], this[NODES][0])) : Object(_utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"of\"])());\n  }\n\n  toString() {\n    return this[NODES].map(_utility_Keypath__WEBPACK_IMPORTED_MODULE_2__[\"位\"].toString()).join(' ') + (this.isClosed ? 'Z' : '');\n  }\n\n  render(group) {\n    var _context8;\n\n    const path = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"maybe\"])(group.querySelector('.path')).valueOrElse(() => {\n      var _context7;\n\n      const path = (_context7 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('path'), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context7, 'class', 'path');\n      group.appendChild(path);\n      return path;\n    });\n    _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"].call(path, 'd', this.toString());\n    const nodes = group.querySelectorAll(':scope > .node');\n    (_context8 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"filter\"].call(nodes, element => {\n      var _context9;\n\n      return !(_context9 = this.nodes, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"contains\"]).call(_context9, node => node.id === element.id);\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context8, _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__[\"位\"].remove());\n    (_context8 = (_context8 = this.nodes, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"mapWith\"]).call(_context8, node => _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"find\"].call(nodes, element => element.id === node.id).valueOrElse(() => {\n      var _context10;\n\n      const element = (_context10 = (_context10 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('g'), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context10, 'id', node.id), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context10, 'class', 'node');\n      group.appendChild(element);\n      return element;\n    })), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context8, ([node, element]) => {\n      node.render(element);\n      element.classList.toggle('end', this.isEnd(node));\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRWRpdG9yL1BhdGguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRWRpdG9yL1BhdGguanM/ZTk4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvZiwgemlwLCBjaGFpbiwgbWFwLCBtYXBXaXRoLCBlbnVtZXJhdGUsIGZpbHRlciwgZm9yRWFjaCwgc2tpcCwgbGFzdCwgZmluZCwgY29udGFpbnMsIGZpbmRJbmRleCwgY29sbGVjdCB9IGZyb20gJy4uL3V0aWxpdHkvSXRlcmF0b3InO1xyXG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBzZXRBdHRyaWJ1dGUsIHRvZ2dsZUNsYXNzIH0gZnJvbSAnLi4vdXRpbGl0eS9TdmcnO1xyXG5pbXBvcnQgeyBfLCDOuyB9IGZyb20gJy4uL3V0aWxpdHkvS2V5cGF0aCc7XHJcbmltcG9ydCB7IE9wdGlvbiwgTm9uZSwgU29tZSwgbWF5YmUgfSBmcm9tICcuLi91dGlsaXR5L09wdGlvbic7XHJcbmltcG9ydCB7IE5vZGUsIE1vdmUsIExpbmUgfSBmcm9tICcuL05vZGUnO1xyXG5pbXBvcnQgeyBFZGdlIH0gZnJvbSAnLi9FZGdlJztcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi91dGlsaXR5L0dlb21ldHJ5JztcclxuXHJcbmNvbnN0IFtLRVksIE5PREVTLCBDTE9TRURdID0gU3ltYm9sLmdlbmVyYXRlKCdLRVknLCAnTk9ERVMnLCAnQ0xPU0VEJyk7XHJcblxyXG5jbGFzcyBVbnJlc29sdmFibGVQb2ludCBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdDYW5ub3QgcmVzb2x2ZSBgcG9pbnRgIG9mIGBOb2RlYCcpO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgTm9uZXhpc3RlbnRGb2N1cyBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdGb2N1c2VkIGBOb2RlYCBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIGBQYXRoYCcpO1xyXG4gIH1cclxufVxyXG5cclxubGV0IHBhdGhLZXkgPSAwO1xyXG5leHBvcnQgY2xhc3MgUGF0aCB7XHJcbiAgY29uc3RydWN0b3IoYmFzaXMgPSBOb25lLCBub2RlID0gTm9uZSkge1xyXG4gICAgYmFzaXMubWF0Y2goe1xyXG4gICAgICBOb25lOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpc1tDTE9TRURdID0gZmFsc2U7XHJcbiAgICAgICAgdGhpc1tLRVldID0gYHBhdGgtJHtwYXRoS2V5Kyt9YDtcclxuICAgICAgICB0aGlzW05PREVTXSA9IFsuLi5ub2RlXTtcclxuICAgICAgfSxcclxuICAgICAgU29tZTogKGJhc2lzKSA9PiB7XHJcbiAgICAgICAgdGhpc1tDTE9TRURdID0gYmFzaXNbQ0xPU0VEXTtcclxuICAgICAgICB0aGlzW0tFWV0gPSBiYXNpc1tLRVldO1xyXG4gICAgICAgIHRoaXNbTk9ERVNdID0gWy4uLmJhc2lzW05PREVTXSwgLi4ubm9kZV07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzQ2xvc2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbQ0xPU0VEXTtcclxuICB9XHJcblxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiB0aGlzW0tFWV07XHJcbiAgfVxyXG5cclxuICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbTk9ERVNdLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIGZpcnN0Q29udHJvbFBvaW50KGluZGV4KSB7XHJcbiAgLy8gICByZXR1cm4gbWF5YmUodGhpc1tOT0RFU11baW5kZXhdLmNvbnRyb2wxKVxyXG4gIC8vICAgICAudmFsdWVPckVsc2UoKCkgPT4gdGhpcy5wcmV2aW91c0NvbnRyb2xQb2ludChpbmRleCArIDEpKVxyXG4gIC8vIH1cclxuXHJcbiAgc2Vjb25kQ29udHJvbFBvaW50KGluZGV4KSB7XHJcbiAgICAvLyBldmVudHVhbGx5IGNvbnZlcmdlczogdGhlIGZpcnN0IG5vZGUgaGFzIHRoZSB0cml2aWFsIGBjb250cm9sMmAgcG9pbnQuXHJcbiAgICByZXR1cm4gbWF5YmUodGhpc1tOT0RFU11baW5kZXhdLmNvbnRyb2wyKVxyXG4gICAgICAudmFsdWVPckVsc2UoKCkgPT4gdGhpcy5uZXh0Q29udHJvbFBvaW50KGluZGV4IC0gMSkpO1xyXG4gIH1cclxuXHJcbiAgbmV4dENvbnRyb2xQb2ludChub2RlKSB7XHJcbiAgICBsZXQgaW5kZXggPSBub2RlO1xyXG4gICAgaWYgKHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xyXG4gICAgICBub2RlID0gdGhpc1tOT0RFU11baW5kZXhdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW5kZXggPSB0aGlzW05PREVTXS5pbmRleE9mKG5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuc2Vjb25kQ29udHJvbFBvaW50KGluZGV4KS5yZWZsZWN0T3Zlcihub2RlLnBvaW50KTtcclxuICB9XHJcblxyXG4gIGlzU3RhcnQobm9kZSkge1xyXG4gICAgcmV0dXJuIHRoaXNbTk9ERVNdWzBdID09PSBub2RlICYmICF0aGlzLmlzQ2xvc2VkO1xyXG4gIH1cclxuXHJcbiAgaXNFbmQobm9kZSkge1xyXG4gICAgcmV0dXJuIHRoaXNbTk9ERVNdW3RoaXNbTk9ERVNdLmxlbmd0aCAtIDFdID09PSBub2RlICYmICF0aGlzLmlzQ2xvc2VkO1xyXG4gIH1cclxuXHJcbiAgY29udGFpbnMoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLm5vZGVzXHJcbiAgICAgIDo6Y2hhaW4odGhpcy5lZGdlcylcclxuICAgICAgOjpmaW5kKG5vZGUgPT4gbm9kZS5pZCA9PT0gaWQpXHJcbiAgICAgIC5pc1NvbWU7XHJcbiAgfVxyXG5cclxuICBhcHBlbmQobm9kZSkge1xyXG4gICAgY29uc3QgY2xvbmUgPSBuZXcgUGF0aChTb21lKHRoaXMpKTtcclxuICAgIGNsb25lW05PREVTXS5wdXNoKG5vZGUpO1xyXG4gICAgcmV0dXJuIGNsb25lO1xyXG4gIH1cclxuXHJcbiAgcHJlcGVuZChub2RlKSB7XHJcbiAgICBjb25zdCBjbG9uZSA9IG5ldyBQYXRoKFNvbWUodGhpcykpO1xyXG4gICAgY29uc3Qgb2xkUG9zaXRpb24gPSBjbG9uZVtOT0RFU11bMF0ucG9pbnQ7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IG5vZGUucG9pbnQ7XHJcbiAgICBjbG9uZVtOT0RFU11bMF0gPSBub2RlLm1vdmUob2xkUG9zaXRpb24pO1xyXG4gICAgY2xvbmVbTk9ERVNdLnVuc2hpZnQobmV3IE1vdmUoeCwgeSkpO1xyXG4gICAgcmV0dXJuIGNsb25lO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VkKCkge1xyXG4gICAgaWYgKHRoaXMuaXNDbG9zZWQgfHwgdGhpcy5sZW5ndGggPT09IDEpIHsgcmV0dXJuIHRoaXM7IH1cclxuICAgIGNvbnN0IGNsb25lID0gbmV3IFBhdGgoU29tZSh0aGlzKSk7XHJcbiAgICBjbG9uZVtDTE9TRURdID0gdHJ1ZTtcclxuICAgIHJldHVybiBjbG9uZTtcclxuICB9XHJcblxyXG4gIG1vdmVOb2RlKG5vZGUsIHgsIHkpIHtcclxuICAgIHJldHVybiBtYXliZSh0aGlzW05PREVTXS5pbmRleE9mKG5vZGUpKVxyXG4gICAgICA6Om1hcChpbmRleCA9PiB7XHJcbiAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgUGF0aChTb21lKHRoaXMpKTtcclxuICAgICAgICBjbG9uZVtOT0RFU11baW5kZXhdID0gbm9kZS5tb3ZlKG5ldyBQb2ludCh4LCB5KSk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICB9KVxyXG4gICAgICA6OmNvbGxlY3QoT3B0aW9uKVxyXG4gICAgICAudmFsdWVPcih0aGlzKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZU5vZGUobm9kZSkge1xyXG4gICAgcmV0dXJuIG1heWJlKHRoaXNbTk9ERVNdLmluZGV4T2Yobm9kZSkpXHJcbiAgICAgIDo6bWFwKGluZGV4ID0+IHtcclxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgIGlmICh0aGlzW05PREVTXS5sZW5ndGggPT09IDEpIHsgcmV0dXJuIFtdOyB9XHJcbiAgICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBQYXRoKFNvbWUodGhpcykpO1xyXG4gICAgICAgICAgY2xvbmVbTk9ERVNdWzFdID0gY2xvbmVbTk9ERVNdWzBdLm1vdmUoY2xvbmVbTk9ERVNdWzFdLnBvaW50KTtcclxuICAgICAgICAgIGNsb25lW05PREVTXS5zaGlmdCgpO1xyXG4gICAgICAgICAgY2xvbmVbQ0xPU0VEXSA9IGZhbHNlO1xyXG4gICAgICAgICAgcmV0dXJuIFtjbG9uZV07XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpc1tOT0RFU10ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgUGF0aChTb21lKHRoaXMpKTtcclxuICAgICAgICAgIGNsb25lW05PREVTXS5wb3AoKTtcclxuICAgICAgICAgIGNsb25lW0NMT1NFRF0gPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybiBbY2xvbmVdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Nsb3NlZCkge1xyXG4gICAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgUGF0aChTb21lKHRoaXMpKTtcclxuICAgICAgICAgIGNvbnN0IGxlZnQgPSBjbG9uZVtOT0RFU10uc2xpY2UoMCwgaW5kZXgpO1xyXG4gICAgICAgICAgY29uc3QgcmlnaHQgPSBjbG9uZVtOT0RFU10uc2xpY2UoaW5kZXggKyAxKTtcclxuICAgICAgICAgIGxlZnRbMF0gPSBuZXcgTGluZSguLi5sZWZ0WzBdLnBvaW50KTtcclxuICAgICAgICAgIHJpZ2h0WzBdID0gbmV3IE1vdmUoLi4ucmlnaHRbMF0ucG9pbnQpO1xyXG4gICAgICAgICAgY2xvbmVbTk9ERVNdID0gWy4uLnJpZ2h0LCAuLi5sZWZ0XTtcclxuICAgICAgICAgIGNsb25lW0NMT1NFRF0gPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybiBbY2xvbmVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBsZWZ0ID0gbmV3IFBhdGgoU29tZSh0aGlzKSk7XHJcbiAgICAgICAgICBsZWZ0W05PREVTXSA9IGxlZnRbTk9ERVNdLnNsaWNlKDAsIGluZGV4KTtcclxuICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbmV3IFBhdGgoKTtcclxuICAgICAgICAgIHJpZ2h0W05PREVTXSA9IHRoaXNbTk9ERVNdLnNsaWNlKGluZGV4ICsgMSk7XHJcbiAgICAgICAgICByaWdodFtOT0RFU11bMF0gPSBuZXcgTW92ZSguLi5yaWdodFtOT0RFU11bMF0ucG9pbnQpXHJcbiAgICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pXHJcbiAgICAgIC52YWx1ZU9yKFt0aGlzXSlcclxuICB9XHJcblxyXG4gIG5vZGUoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLm5vZGVzOjpmaW5kSW5kZXgobm9kZSA9PiBub2RlLmlkID09PSBpZCk7XHJcbiAgfVxyXG5cclxuICBlZGdlKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lZGdlczo6ZmluZEluZGV4KGVkZ2UgPT4gZWRnZS5pZCA9PT0gaWQpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG5vZGVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbTk9ERVNdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGVkZ2VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbTk9ERVNdXHJcbiAgICAgIDo6emlwKHRoaXNbTk9ERVNdOjpza2lwKDEpKVxyXG4gICAgICA6Om1hcCgoW3N0YXJ0LCBlbmRdKSA9PiBuZXcgRWRnZShzdGFydCwgZW5kKSlcclxuICAgICAgOjpjaGFpbihcclxuICAgICAgICB0aGlzLmlzQ2xvc2VkXHJcbiAgICAgICAgICA/IG9mKG5ldyBFZGdlKHRoaXNbTk9ERVNdW3RoaXNbTk9ERVNdLmxlbmd0aCAtIDFdLCB0aGlzW05PREVTXVswXSkpXHJcbiAgICAgICAgICA6IG9mKClcclxuICAgICAgKVxyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpc1tOT0RFU10ubWFwKM67LnRvU3RyaW5nKCkpLmpvaW4oJyAnKSArICh0aGlzLmlzQ2xvc2VkID8gJ1onIDogJycpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKGdyb3VwKSB7XHJcbiAgICBjb25zdCBwYXRoID0gbWF5YmUoZ3JvdXAucXVlcnlTZWxlY3RvcignLnBhdGgnKSkudmFsdWVPckVsc2UoKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXRoID0gY3JlYXRlRWxlbWVudCgncGF0aCcpXHJcbiAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3BhdGgnKTtcclxuICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQocGF0aCk7XHJcbiAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgfSk7XHJcbiAgICBwYXRoOjpzZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIGNvbnN0IG5vZGVzID0gZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gLm5vZGUnKTtcclxuICAgIG5vZGVzXHJcbiAgICAgIDo6ZmlsdGVyKGVsZW1lbnQgPT4gIXRoaXMubm9kZXM6OmNvbnRhaW5zKG5vZGUgPT4gbm9kZS5pZCA9PT0gZWxlbWVudC5pZCkpXHJcbiAgICAgIDo6Zm9yRWFjaCjOuy5yZW1vdmUoKSk7XHJcbiAgICB0aGlzLm5vZGVzXHJcbiAgICAgIDo6bWFwV2l0aChub2RlID0+IG5vZGVzOjpmaW5kKGVsZW1lbnQgPT4gZWxlbWVudC5pZCA9PT0gbm9kZS5pZCkudmFsdWVPckVsc2UoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCdnJylcclxuICAgICAgICAgIDo6c2V0QXR0cmlidXRlKCdpZCcsIG5vZGUuaWQpXHJcbiAgICAgICAgICA6OnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbm9kZScpO1xyXG4gICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICB9KSlcclxuICAgICAgOjpmb3JFYWNoKChbbm9kZSwgZWxlbWVudF0pID0+IHtcclxuICAgICAgICBub2RlLnJlbmRlcihlbGVtZW50KTtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2VuZCcsIHRoaXMuaXNFbmQobm9kZSkpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzTEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Editor/Path.js\n");

/***/ }),

/***/ "./src/Editor/StateStack.js":
/*!**********************************!*\
  !*** ./src/Editor/StateStack.js ***!
  \**********************************/
/*! exports provided: StateStack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StateStack\", function() { return StateStack; });\n/* harmony import */ var _utility_Option__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/Option */ \"./src/utility/Option.js\");\n/* harmony import */ var _utility_Functional__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/Functional */ \"./src/utility/Functional.js\");\n/* harmony import */ var _utility_EventStream__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/EventStream */ \"./src/utility/EventStream.js\");\n\n\n\nconst [UNDO, REDO, TRANSIENT, COMMIT] = Symbol.generate('UNDO', 'REDO', 'TRANSIENT', 'COMMIT');\nclass StateStack extends _utility_EventStream__WEBPACK_IMPORTED_MODULE_2__[\"EventStream\"] {\n  constructor(initial) {\n    super();\n    this[COMMIT] = initial;\n    this[TRANSIENT] = initial;\n    this[UNDO] = [];\n    this[REDO] = [];\n  }\n\n  get current() {\n    return this[TRANSIENT];\n  }\n\n  set current(value) {\n    this[TRANSIENT] = value;\n    super.emit(this[TRANSIENT]);\n  }\n\n  get canUndo() {\n    return this[UNDO].length;\n  }\n\n  get canRedo() {\n    return this[REDO].length;\n  }\n\n  refresh() {\n    super.emit(this[TRANSIENT]);\n  }\n\n  commit() {\n    this[COMMIT] = this[TRANSIENT];\n  }\n\n  undo() {\n    if (this.canUndo) {\n      this[REDO].push(this[COMMIT]);\n      this.current = this[UNDO].pop();\n      this.commit();\n    }\n  }\n\n  redo() {\n    if (this.canRedo) {\n      this[UNDO].push(this[COMMIT]);\n      this.current = this[REDO].pop();\n      this.commit();\n    }\n  }\n\n  discard() {\n    this.current = this[COMMIT];\n  }\n\n  do(action) {\n    const [type, updated] = action(this[TRANSIENT], update => [TRANSIENT, update], update => [COMMIT, update]) || [, this.current];\n\n    if (updated === this.current) {\n      return;\n    }\n\n    switch (type) {\n      case TRANSIENT:\n        this.current = updated;\n        break;\n\n      case COMMIT:\n        this[UNDO].push(this[COMMIT]);\n        this.current = updated;\n        this.commit();\n        this[REDO] = [];\n        break;\n    }\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRWRpdG9yL1N0YXRlU3RhY2suanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRWRpdG9yL1N0YXRlU3RhY2suanM/Y2VlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb21lLCBOb25lIH0gZnJvbSAnLi4vdXRpbGl0eS9PcHRpb24nO1xyXG5pbXBvcnQgeyBjYWxsV2l0aCB9IGZyb20gJy4uL3V0aWxpdHkvRnVuY3Rpb25hbCc7XHJcbmltcG9ydCB7IEV2ZW50U3RyZWFtIH0gZnJvbSAnLi4vdXRpbGl0eS9FdmVudFN0cmVhbSc7XHJcblxyXG5jb25zdCBbVU5ETywgUkVETywgVFJBTlNJRU5ULCBDT01NSVRdID0gU3ltYm9sLmdlbmVyYXRlKCdVTkRPJywgJ1JFRE8nLCAnVFJBTlNJRU5UJywgJ0NPTU1JVCcpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRlU3RhY2sgZXh0ZW5kcyBFdmVudFN0cmVhbSB7XHJcbiAgY29uc3RydWN0b3IoaW5pdGlhbCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXNbQ09NTUlUXSA9IGluaXRpYWw7XHJcbiAgICB0aGlzW1RSQU5TSUVOVF0gPSBpbml0aWFsO1xyXG4gICAgdGhpc1tVTkRPXSA9IFtdO1xyXG4gICAgdGhpc1tSRURPXSA9IFtdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpc1tUUkFOU0lFTlRdO1xyXG4gIH1cclxuXHJcbiAgc2V0IGN1cnJlbnQodmFsdWUpIHtcclxuICAgIHRoaXNbVFJBTlNJRU5UXSA9IHZhbHVlO1xyXG4gICAgc3VwZXIuZW1pdCh0aGlzW1RSQU5TSUVOVF0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNhblVuZG8oKSB7XHJcbiAgICByZXR1cm4gdGhpc1tVTkRPXS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBnZXQgY2FuUmVkbygpIHtcclxuICAgIHJldHVybiB0aGlzW1JFRE9dLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHJlZnJlc2goKSB7XHJcbiAgICBzdXBlci5lbWl0KHRoaXNbVFJBTlNJRU5UXSk7XHJcbiAgfVxyXG5cclxuICBjb21taXQoKSB7XHJcbiAgICB0aGlzW0NPTU1JVF0gPSB0aGlzW1RSQU5TSUVOVF07XHJcbiAgfVxyXG5cclxuICB1bmRvKCkge1xyXG4gICAgaWYgKHRoaXMuY2FuVW5kbykge1xyXG4gICAgICB0aGlzW1JFRE9dLnB1c2godGhpc1tDT01NSVRdKTtcclxuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpc1tVTkRPXS5wb3AoKTtcclxuICAgICAgdGhpcy5jb21taXQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlZG8oKSB7XHJcbiAgICBpZiAodGhpcy5jYW5SZWRvKSB7XHJcbiAgICAgIHRoaXNbVU5ET10ucHVzaCh0aGlzW0NPTU1JVF0pO1xyXG4gICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzW1JFRE9dLnBvcCgpO1xyXG4gICAgICB0aGlzLmNvbW1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzY2FyZCgpIHtcclxuICAgIHRoaXMuY3VycmVudCA9IHRoaXNbQ09NTUlUXTtcclxuICB9XHJcblxyXG4gIGRvKGFjdGlvbikge1xyXG4gICAgY29uc3QgW3R5cGUsIHVwZGF0ZWRdID0gYWN0aW9uKHRoaXNbVFJBTlNJRU5UXSwgdXBkYXRlID0+IFtUUkFOU0lFTlQsIHVwZGF0ZV0sIHVwZGF0ZSA9PiBbQ09NTUlULCB1cGRhdGVdKSB8fCBbLCB0aGlzLmN1cnJlbnRdO1xyXG4gICAgaWYgKHVwZGF0ZWQgPT09IHRoaXMuY3VycmVudCkgeyByZXR1cm47IH1cclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIFRSQU5TSUVOVDpcclxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB1cGRhdGVkO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENPTU1JVDpcclxuICAgICAgICB0aGlzW1VORE9dLnB1c2godGhpc1tDT01NSVRdKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB1cGRhdGVkO1xyXG4gICAgICAgIHRoaXMuY29tbWl0KCk7XHJcbiAgICAgICAgdGhpc1tSRURPXSA9IFtdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQXJFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Editor/StateStack.js\n");

/***/ }),

/***/ "./src/Editor/World.js":
/*!*****************************!*\
  !*** ./src/Editor/World.js ***!
  \*****************************/
/*! exports provided: World */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"World\", function() { return World; });\n/* harmony import */ var _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/Iterator */ \"./src/utility/Iterator.js\");\n/* harmony import */ var _utility_Svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/Svg */ \"./src/utility/Svg.js\");\n/* harmony import */ var _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/Keypath */ \"./src/utility/Keypath.js\");\n/* harmony import */ var _utility_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utility/Option */ \"./src/utility/Option.js\");\n/* harmony import */ var _Node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Node */ \"./src/Editor/Node.js\");\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Path */ \"./src/Editor/Path.js\");\n\n\n\n\n\n\nconst [PATHS, PATH_FOCUS, NODE_FOCUS, EDGE_FOCUS, PATH_ACTIVE, NODE_ACTIVE, EDGE_ACTIVE] = Symbol.generate();\nclass World {\n  constructor(basis = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"]) {\n    basis.match({\n      None: () => {\n        this[PATHS] = [];\n        this[PATH_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n        this[NODE_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n        this[EDGE_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n        this[PATH_ACTIVE] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n        this[NODE_ACTIVE] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n        this[EDGE_ACTIVE] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      },\n      Some: basis => {\n        this[PATHS] = [...basis[PATHS]];\n        this[PATH_FOCUS] = basis[PATH_FOCUS];\n        this[NODE_FOCUS] = basis[NODE_FOCUS];\n        this[EDGE_FOCUS] = basis[EDGE_FOCUS];\n        this[PATH_ACTIVE] = basis[PATH_ACTIVE];\n        this[NODE_ACTIVE] = basis[NODE_ACTIVE];\n        this[EDGE_ACTIVE] = basis[EDGE_ACTIVE];\n      }\n    });\n  }\n\n  get pathFocus() {\n    var _context;\n\n    return (_context = (_context = this[PATH_FOCUS], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context, index => this[PATHS][index]), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n  }\n\n  get nodeFocus() {\n    var _context2;\n\n    return (_context2 = (_context2 = this[NODE_FOCUS].and(this.pathFocus), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"flatMap\"]).call(_context2, ([index, path]) => {\n      var _context3;\n\n      return (_context3 = path.nodes, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"nth\"]).call(_context3, index);\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context2, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n  }\n\n  get edgeFocus() {\n    var _context4;\n\n    return (_context4 = (_context4 = this[EDGE_FOCUS].and(this.pathFocus), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"flatMap\"]).call(_context4, ([index, path]) => {\n      var _context5;\n\n      return (_context5 = path.edges, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"nth\"]).call(_context5, index);\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context4, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n  }\n\n  get pathActive() {\n    var _context6;\n\n    return (_context6 = (_context6 = this[PATH_ACTIVE], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context6, index => this[PATHS][index]), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context6, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n  }\n\n  get nodeActive() {\n    var _context7;\n\n    return (_context7 = (_context7 = this[NODE_ACTIVE].and(this.pathActive), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"flatMap\"]).call(_context7, ([index, path]) => {\n      var _context8;\n\n      return (_context8 = path.nodes, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"nth\"]).call(_context8, index);\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context7, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n  }\n\n  get edgeActive() {\n    var _context9;\n\n    return (_context9 = (_context9 = this[EDGE_ACTIVE].and(this.pathActive), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"flatMap\"]).call(_context9, ([index, path]) => {\n      var _context10;\n\n      return (_context10 = path.edges, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"nth\"]).call(_context10, index);\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context9, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n  }\n\n  get canAppend() {\n    var _context11;\n\n    return (_context11 = (_context11 = this.nodeFocus.and(this.pathFocus), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context11, ([node, path]) => path.isEnd(node) || path.isStart(node)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context11, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr(false);\n  }\n\n  closePath() {\n    var _context12;\n\n    return (_context12 = (_context12 = (_context12 = (_context12 = this.pathFocus, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"filter\"]).call(_context12, path => !path.isClosed), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"filter\"]).call(_context12, path => path.length > 1), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context12, path => {\n      const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      clone[PATHS][clone[PATH_FOCUS].valueOf()] = path.closed();\n      return clone;\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context12, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr(this);\n  }\n\n  startPath(x, y) {\n    const path = new _Path__WEBPACK_IMPORTED_MODULE_5__[\"Path\"](_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"], Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(new _Node__WEBPACK_IMPORTED_MODULE_4__[\"Move\"](x, y)));\n    const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n    clone[PATH_ACTIVE] = clone[PATH_FOCUS] = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(clone[PATHS].length);\n    clone[NODE_ACTIVE] = clone[NODE_FOCUS] = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(0);\n    clone[PATHS].push(path);\n    return clone;\n  }\n\n  appendNode(newNode) {\n    var _context13;\n\n    return (_context13 = (_context13 = this.nodeFocus.and(this.pathFocus), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"filterMap\"]).call(_context13, ([node, path]) => {\n      if (path.isEnd(node)) {\n        var _context14;\n\n        const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n        clone[PATHS][clone[PATH_FOCUS].valueOf()] = path.append(newNode);\n        clone[NODE_ACTIVE] = clone[NODE_FOCUS] = (_context14 = (_context14 = clone[NODE_FOCUS], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context14, index => index + 1), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context14, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n        clone[PATH_ACTIVE] = clone[PATH_FOCUS];\n        return Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(clone);\n      } else if (path.isStart(node)) {\n        const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n        clone[PATHS][clone[PATH_FOCUS].valueOf()] = path.prepend(newNode);\n        clone[NODE_ACTIVE] = clone[NODE_FOCUS];\n        clone[PATH_ACTIVE] = clone[PATH_FOCUS];\n        return Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(clone);\n      }\n\n      return _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context13, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOrElse(() => this.startPath(...newNode.point));\n  }\n\n  dragNode(x, y) {\n    var _context15;\n\n    return (_context15 = (_context15 = this.nodeActive.and(this.pathActive), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context15, ([node, path]) => {\n      const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      clone[PATHS][clone[PATH_ACTIVE].valueOf()] = path.moveNode(node, x, y);\n      return clone;\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context15, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr(this);\n  }\n\n  deleteNode() {\n    var _context16;\n\n    return (_context16 = (_context16 = this.nodeFocus.and(this.pathFocus), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context16, ([node, path]) => {\n      const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      const newPaths = path.deleteNode(node);\n      clone[PATHS].splice(this[PATH_FOCUS].valueOf(), 1, ...newPaths);\n\n      if (newPaths.length === 0) {\n        clone[PATH_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n        clone[NODE_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      } else {\n        var _context17;\n\n        clone[NODE_FOCUS] = (_context17 = (_context17 = (_context17 = clone[NODE_FOCUS], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context17, index => Math.max(0, index - 1)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context17, index => index === 0 || index === newPaths[0].length - 1 ? index : newPaths[0].length - 1), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context17, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]);\n      }\n\n      return clone;\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context16, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr(this);\n  }\n\n  focus(id) {\n    var _context18;\n\n    return (_context18 = (_context18 = (_context18 = this[PATHS], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"findIndex\"]).call(_context18, _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__[\"位\"].contains(id)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context18, index => {\n      const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      clone[PATH_FOCUS] = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(index);\n      clone[NODE_FOCUS] = clone.pathFocus.valueOf().node(id);\n      clone[EDGE_FOCUS] = clone.pathFocus.valueOf().edge(id);\n      return clone;\n    }), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"collect\"]).call(_context18, _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Option\"]).valueOr(this);\n  }\n\n  activate(id) {\n    const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this.focus(id)));\n    clone[PATH_ACTIVE] = clone[PATH_FOCUS];\n    clone[NODE_ACTIVE] = clone[NODE_FOCUS];\n    clone[EDGE_ACTIVE] = clone[EDGE_FOCUS];\n    return clone;\n  }\n\n  blur() {\n    if (this[PATH_FOCUS].or(this[NODE_FOCUS]).or(this[EDGE_FOCUS]).isSome) {\n      const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      clone[PATH_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      clone[NODE_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      clone[EDGE_FOCUS] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      return clone;\n    }\n\n    return this;\n  }\n\n  deactivate() {\n    if (this[PATH_ACTIVE].or(this[NODE_ACTIVE]).or(this[EDGE_ACTIVE]).isSome) {\n      const clone = new World(Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"Some\"])(this));\n      clone[PATH_ACTIVE] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      clone[NODE_ACTIVE] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      clone[EDGE_ACTIVE] = _utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"None\"];\n      return clone;\n    }\n\n    return this;\n  }\n\n  render(svg) {\n    var _context19;\n\n    const paths = svg.querySelectorAll(':scope > .path');\n    (_context19 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"filter\"].call(paths, element => !this[PATHS].find(path => path.id === element.id)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context19, _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__[\"位\"].remove());\n    (_context19 = (_context19 = this[PATHS], _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"mapWith\"]).call(_context19, path => _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"find\"].call(paths, element => element.id === path.id).valueOrElse(() => {\n      var _context20;\n\n      const group = (_context20 = (_context20 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('g'), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context20, 'id', path.id), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context20, 'class', 'path');\n      svg.appendChild(group);\n      return group;\n    })), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context19, ([path, element]) => path.render(element));\n    const nodeFocusElement = Object(_utility_Option__WEBPACK_IMPORTED_MODULE_3__[\"maybe\"])(svg.querySelector('#node-focus'));\n    this.pathFocus.match({\n      None: () => _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"].call(nodeFocusElement, _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__[\"位\"].remove()),\n      Some: path => {\n        var _context21;\n\n        (_context21 = (_context21 = this.nodeFocus, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context21, _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__[\"_\"].point), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context21, ({\n          x,\n          y\n        }) => {\n          var _context23;\n\n          const element = nodeFocusElement.valueOrElse(() => {\n            var _context22;\n\n            const element = (_context22 = (_context22 = (_context22 = Object(_utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('circle'), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context22, 'id', 'node-focus'), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context22, 'class', 'focus'), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context22, 'r', 8);\n            svg.appendChild(element);\n            return element;\n          });\n          (_context23 = _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"].call(element, 'cx', x), _utility_Svg__WEBPACK_IMPORTED_MODULE_1__[\"setAttribute\"]).call(_context23, 'cy', y);\n        });\n      }\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRWRpdG9yL1dvcmxkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL0VkaXRvci9Xb3JsZC5qcz82OWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hcCwgbWFwV2l0aCwgZmxhdE1hcCwgZmlsdGVyLCBmaWx0ZXJNYXAsIGZvckVhY2gsIG50aCwgZmluZCwgZmluZEluZGV4LCBjb2xsZWN0IH0gZnJvbSAnLi4vdXRpbGl0eS9JdGVyYXRvcic7XHJcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHNldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3V0aWxpdHkvU3ZnJztcclxuaW1wb3J0IHsgXywgzrsgfSBmcm9tICcuLi91dGlsaXR5L0tleXBhdGgnO1xyXG5pbXBvcnQgeyBPcHRpb24sIG1heWJlLCBOb25lLCBTb21lIH0gZnJvbSAnLi4vdXRpbGl0eS9PcHRpb24nO1xyXG5pbXBvcnQgeyBMaW5lLCBNb3ZlIH0gZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IHsgUGF0aCB9IGZyb20gJy4vUGF0aCc7XHJcblxyXG5jb25zdCBbUEFUSFMsIFBBVEhfRk9DVVMsIE5PREVfRk9DVVMsIEVER0VfRk9DVVMsIFBBVEhfQUNUSVZFLCBOT0RFX0FDVElWRSwgRURHRV9BQ1RJVkVdID0gU3ltYm9sLmdlbmVyYXRlKCk7XHJcblxyXG5leHBvcnQgY2xhc3MgV29ybGQge1xyXG4gIGNvbnN0cnVjdG9yKGJhc2lzID0gTm9uZSkge1xyXG4gICAgYmFzaXMubWF0Y2goe1xyXG4gICAgICBOb25lOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpc1tQQVRIU10gPSBbXTtcclxuICAgICAgICB0aGlzW1BBVEhfRk9DVVNdID0gTm9uZTtcclxuICAgICAgICB0aGlzW05PREVfRk9DVVNdID0gTm9uZTtcclxuICAgICAgICB0aGlzW0VER0VfRk9DVVNdID0gTm9uZTtcclxuICAgICAgICB0aGlzW1BBVEhfQUNUSVZFXSA9IE5vbmU7XHJcbiAgICAgICAgdGhpc1tOT0RFX0FDVElWRV0gPSBOb25lO1xyXG4gICAgICAgIHRoaXNbRURHRV9BQ1RJVkVdID0gTm9uZTtcclxuICAgICAgfSxcclxuICAgICAgU29tZTogKGJhc2lzKSA9PiB7XHJcbiAgICAgICAgdGhpc1tQQVRIU10gPSBbLi4uYmFzaXNbUEFUSFNdXTtcclxuICAgICAgICB0aGlzW1BBVEhfRk9DVVNdID0gYmFzaXNbUEFUSF9GT0NVU107XHJcbiAgICAgICAgdGhpc1tOT0RFX0ZPQ1VTXSA9IGJhc2lzW05PREVfRk9DVVNdO1xyXG4gICAgICAgIHRoaXNbRURHRV9GT0NVU10gPSBiYXNpc1tFREdFX0ZPQ1VTXTtcclxuICAgICAgICB0aGlzW1BBVEhfQUNUSVZFXSA9IGJhc2lzW1BBVEhfQUNUSVZFXTtcclxuICAgICAgICB0aGlzW05PREVfQUNUSVZFXSA9IGJhc2lzW05PREVfQUNUSVZFXTtcclxuICAgICAgICB0aGlzW0VER0VfQUNUSVZFXSA9IGJhc2lzW0VER0VfQUNUSVZFXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXQgcGF0aEZvY3VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbUEFUSF9GT0NVU11cclxuICAgICAgOjptYXAoaW5kZXggPT4gdGhpc1tQQVRIU11baW5kZXhdKVxyXG4gICAgICA6OmNvbGxlY3QoT3B0aW9uKTtcclxuICB9XHJcblxyXG4gIGdldCBub2RlRm9jdXMoKSB7XHJcbiAgICByZXR1cm4gdGhpc1tOT0RFX0ZPQ1VTXS5hbmQodGhpcy5wYXRoRm9jdXMpXHJcbiAgICAgIDo6ZmxhdE1hcCgoW2luZGV4LCBwYXRoXSkgPT4gcGF0aC5ub2Rlczo6bnRoKGluZGV4KSlcclxuICAgICAgOjpjb2xsZWN0KE9wdGlvbik7XHJcbiAgfVxyXG5cclxuICBnZXQgZWRnZUZvY3VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbRURHRV9GT0NVU10uYW5kKHRoaXMucGF0aEZvY3VzKVxyXG4gICAgICA6OmZsYXRNYXAoKFtpbmRleCwgcGF0aF0pID0+IHBhdGguZWRnZXM6Om50aChpbmRleCkpXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBhdGhBY3RpdmUoKSB7XHJcbiAgICByZXR1cm4gdGhpc1tQQVRIX0FDVElWRV1cclxuICAgICAgOjptYXAoaW5kZXggPT4gdGhpc1tQQVRIU11baW5kZXhdKVxyXG4gICAgICA6OmNvbGxlY3QoT3B0aW9uKTtcclxuICB9XHJcblxyXG4gIGdldCBub2RlQWN0aXZlKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbTk9ERV9BQ1RJVkVdLmFuZCh0aGlzLnBhdGhBY3RpdmUpXHJcbiAgICAgIDo6ZmxhdE1hcCgoW2luZGV4LCBwYXRoXSkgPT4gcGF0aC5ub2Rlczo6bnRoKGluZGV4KSlcclxuICAgICAgOjpjb2xsZWN0KE9wdGlvbik7XHJcbiAgfVxyXG5cclxuICBnZXQgZWRnZUFjdGl2ZSgpIHtcclxuICAgIHJldHVybiB0aGlzW0VER0VfQUNUSVZFXS5hbmQodGhpcy5wYXRoQWN0aXZlKVxyXG4gICAgICA6OmZsYXRNYXAoKFtpbmRleCwgcGF0aF0pID0+IHBhdGguZWRnZXM6Om50aChpbmRleCkpXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNhbkFwcGVuZCgpIHtcclxuICAgIHJldHVybiB0aGlzLm5vZGVGb2N1cy5hbmQodGhpcy5wYXRoRm9jdXMpXHJcbiAgICAgIDo6bWFwKChbbm9kZSwgcGF0aF0pID0+IHBhdGguaXNFbmQobm9kZSkgfHwgcGF0aC5pc1N0YXJ0KG5vZGUpKVxyXG4gICAgICA6OmNvbGxlY3QoT3B0aW9uKVxyXG4gICAgICAudmFsdWVPcihmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBhdGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYXRoRm9jdXNcclxuICAgICAgOjpmaWx0ZXIocGF0aCA9PiAhcGF0aC5pc0Nsb3NlZClcclxuICAgICAgOjpmaWx0ZXIocGF0aCA9PiBwYXRoLmxlbmd0aCA+IDEpXHJcbiAgICAgIDo6bWFwKHBhdGggPT4ge1xyXG4gICAgICAgIGNvbnN0IGNsb25lID0gbmV3IFdvcmxkKFNvbWUodGhpcykpO1xyXG4gICAgICAgIGNsb25lW1BBVEhTXVtjbG9uZVtQQVRIX0ZPQ1VTXS52YWx1ZU9mKCldID0gcGF0aC5jbG9zZWQoKTtcclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgIH0pXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pXHJcbiAgICAgIC52YWx1ZU9yKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgc3RhcnRQYXRoKHgsIHkpIHtcclxuICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aChOb25lLCBTb21lKG5ldyBNb3ZlKHgsIHkpKSk7XHJcbiAgICBjb25zdCBjbG9uZSA9IG5ldyBXb3JsZChTb21lKHRoaXMpKTtcclxuICAgIGNsb25lW1BBVEhfQUNUSVZFXSA9IGNsb25lW1BBVEhfRk9DVVNdID0gU29tZShjbG9uZVtQQVRIU10ubGVuZ3RoKTtcclxuICAgIGNsb25lW05PREVfQUNUSVZFXSA9IGNsb25lW05PREVfRk9DVVNdID0gU29tZSgwKTtcclxuICAgIGNsb25lW1BBVEhTXS5wdXNoKHBhdGgpO1xyXG4gICAgcmV0dXJuIGNsb25lO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kTm9kZShuZXdOb2RlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ub2RlRm9jdXMuYW5kKHRoaXMucGF0aEZvY3VzKVxyXG4gICAgICA6OmZpbHRlck1hcCgoW25vZGUsIHBhdGhdKSA9PiB7XHJcbiAgICAgICAgaWYgKHBhdGguaXNFbmQobm9kZSkpIHtcclxuICAgICAgICAgIGNvbnN0IGNsb25lID0gbmV3IFdvcmxkKFNvbWUodGhpcykpO1xyXG4gICAgICAgICAgY2xvbmVbUEFUSFNdW2Nsb25lW1BBVEhfRk9DVVNdLnZhbHVlT2YoKV0gPSBwYXRoLmFwcGVuZChuZXdOb2RlKTtcclxuICAgICAgICAgIGNsb25lW05PREVfQUNUSVZFXSA9IGNsb25lW05PREVfRk9DVVNdID0gY2xvbmVbTk9ERV9GT0NVU11cclxuICAgICAgICAgICAgOjptYXAoaW5kZXggPT4gaW5kZXggKyAxKVxyXG4gICAgICAgICAgICA6OmNvbGxlY3QoT3B0aW9uKTtcclxuICAgICAgICAgIGNsb25lW1BBVEhfQUNUSVZFXSA9IGNsb25lW1BBVEhfRk9DVVNdO1xyXG4gICAgICAgICAgcmV0dXJuIFNvbWUoY2xvbmUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGF0aC5pc1N0YXJ0KG5vZGUpKSB7XHJcbiAgICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBXb3JsZChTb21lKHRoaXMpKTtcclxuICAgICAgICAgIGNsb25lW1BBVEhTXVtjbG9uZVtQQVRIX0ZPQ1VTXS52YWx1ZU9mKCldID0gcGF0aC5wcmVwZW5kKG5ld05vZGUpO1xyXG4gICAgICAgICAgY2xvbmVbTk9ERV9BQ1RJVkVdID0gY2xvbmVbTk9ERV9GT0NVU107XHJcbiAgICAgICAgICBjbG9uZVtQQVRIX0FDVElWRV0gPSBjbG9uZVtQQVRIX0ZPQ1VTXTtcclxuICAgICAgICAgIHJldHVybiBTb21lKGNsb25lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE5vbmU7XHJcbiAgICAgIH0pXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pXHJcbiAgICAgIC52YWx1ZU9yRWxzZSgoKSA9PiB0aGlzLnN0YXJ0UGF0aCguLi5uZXdOb2RlLnBvaW50KSk7XHJcbiAgfVxyXG5cclxuICBkcmFnTm9kZSh4LCB5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5ub2RlQWN0aXZlLmFuZCh0aGlzLnBhdGhBY3RpdmUpXHJcbiAgICAgIDo6bWFwKChbbm9kZSwgcGF0aF0pID0+IHtcclxuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBXb3JsZChTb21lKHRoaXMpKTtcclxuICAgICAgICBjbG9uZVtQQVRIU11bY2xvbmVbUEFUSF9BQ1RJVkVdLnZhbHVlT2YoKV0gPSBwYXRoLm1vdmVOb2RlKG5vZGUsIHgsIHkpO1xyXG4gICAgICAgIHJldHVybiBjbG9uZTtcclxuICAgICAgfSlcclxuICAgICAgOjpjb2xsZWN0KE9wdGlvbilcclxuICAgICAgLnZhbHVlT3IodGhpcyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVOb2RlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubm9kZUZvY3VzLmFuZCh0aGlzLnBhdGhGb2N1cylcclxuICAgICAgOjptYXAoKFtub2RlLCBwYXRoXSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNsb25lID0gbmV3IFdvcmxkKFNvbWUodGhpcykpO1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdGhzID0gcGF0aC5kZWxldGVOb2RlKG5vZGUpO1xyXG4gICAgICAgIGNsb25lW1BBVEhTXS5zcGxpY2UodGhpc1tQQVRIX0ZPQ1VTXS52YWx1ZU9mKCksIDEsIC4uLm5ld1BhdGhzKTtcclxuICAgICAgICBpZiAobmV3UGF0aHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBjbG9uZVtQQVRIX0ZPQ1VTXSA9IE5vbmU7XHJcbiAgICAgICAgICBjbG9uZVtOT0RFX0ZPQ1VTXSA9IE5vbmU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNsb25lW05PREVfRk9DVVNdID0gY2xvbmVbTk9ERV9GT0NVU11cclxuICAgICAgICAgICAgOjptYXAoaW5kZXggPT4gTWF0aC5tYXgoMCwgaW5kZXggLSAxKSlcclxuICAgICAgICAgICAgOjptYXAoaW5kZXggPT4gKGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBuZXdQYXRoc1swXS5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICAgID8gaW5kZXhcclxuICAgICAgICAgICAgICA6IChuZXdQYXRoc1swXS5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIDo6Y29sbGVjdChPcHRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgIH0pXHJcbiAgICAgIDo6Y29sbGVjdChPcHRpb24pXHJcbiAgICAgIC52YWx1ZU9yKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZm9jdXMoaWQpIHtcclxuICAgIHJldHVybiB0aGlzW1BBVEhTXVxyXG4gICAgICA6OmZpbmRJbmRleCjOuy5jb250YWlucyhpZCkpXHJcbiAgICAgIDo6bWFwKGluZGV4ID0+IHtcclxuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBXb3JsZChTb21lKHRoaXMpKTtcclxuICAgICAgICBjbG9uZVtQQVRIX0ZPQ1VTXSA9IFNvbWUoaW5kZXgpO1xyXG4gICAgICAgIGNsb25lW05PREVfRk9DVVNdID0gY2xvbmUucGF0aEZvY3VzLnZhbHVlT2YoKS5ub2RlKGlkKTtcclxuICAgICAgICBjbG9uZVtFREdFX0ZPQ1VTXSA9IGNsb25lLnBhdGhGb2N1cy52YWx1ZU9mKCkuZWRnZShpZCk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICB9KVxyXG4gICAgICA6OmNvbGxlY3QoT3B0aW9uKVxyXG4gICAgICAudmFsdWVPcih0aGlzKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlKGlkKSB7XHJcbiAgICBjb25zdCBjbG9uZSA9IG5ldyBXb3JsZChTb21lKHRoaXMuZm9jdXMoaWQpKSk7XHJcbiAgICBjbG9uZVtQQVRIX0FDVElWRV0gPSBjbG9uZVtQQVRIX0ZPQ1VTXTtcclxuICAgIGNsb25lW05PREVfQUNUSVZFXSA9IGNsb25lW05PREVfRk9DVVNdO1xyXG4gICAgY2xvbmVbRURHRV9BQ1RJVkVdID0gY2xvbmVbRURHRV9GT0NVU107XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfVxyXG5cclxuICBibHVyKCkge1xyXG4gICAgaWYgKHRoaXNbUEFUSF9GT0NVU10ub3IodGhpc1tOT0RFX0ZPQ1VTXSkub3IodGhpc1tFREdFX0ZPQ1VTXSkuaXNTb21lKSB7XHJcbiAgICAgIGNvbnN0IGNsb25lID0gbmV3IFdvcmxkKFNvbWUodGhpcykpO1xyXG4gICAgICBjbG9uZVtQQVRIX0ZPQ1VTXSA9IE5vbmU7XHJcbiAgICAgIGNsb25lW05PREVfRk9DVVNdID0gTm9uZTtcclxuICAgICAgY2xvbmVbRURHRV9GT0NVU10gPSBOb25lO1xyXG4gICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGRlYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAodGhpc1tQQVRIX0FDVElWRV0ub3IodGhpc1tOT0RFX0FDVElWRV0pLm9yKHRoaXNbRURHRV9BQ1RJVkVdKS5pc1NvbWUpIHtcclxuICAgICAgY29uc3QgY2xvbmUgPSBuZXcgV29ybGQoU29tZSh0aGlzKSk7XHJcbiAgICAgIGNsb25lW1BBVEhfQUNUSVZFXSA9IE5vbmU7XHJcbiAgICAgIGNsb25lW05PREVfQUNUSVZFXSA9IE5vbmU7XHJcbiAgICAgIGNsb25lW0VER0VfQUNUSVZFXSA9IE5vbmU7XHJcbiAgICAgIHJldHVybiBjbG9uZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKHN2Zykge1xyXG4gICAgY29uc3QgcGF0aHMgPSBzdmcucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gLnBhdGgnKTtcclxuICAgIHBhdGhzXHJcbiAgICAgIDo6ZmlsdGVyKGVsZW1lbnQgPT4gIXRoaXNbUEFUSFNdLmZpbmQocGF0aCA9PiBwYXRoLmlkID09PSBlbGVtZW50LmlkKSlcclxuICAgICAgOjpmb3JFYWNoKM67LnJlbW92ZSgpKTtcclxuICAgIHRoaXNbUEFUSFNdXHJcbiAgICAgIDo6bWFwV2l0aChwYXRoID0+IHBhdGhzOjpmaW5kKGVsZW1lbnQgPT4gZWxlbWVudC5pZCA9PT0gcGF0aC5pZCkudmFsdWVPckVsc2UoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwID0gY3JlYXRlRWxlbWVudCgnZycpXHJcbiAgICAgICAgICA6OnNldEF0dHJpYnV0ZSgnaWQnLCBwYXRoLmlkKVxyXG4gICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3BhdGgnKTtcclxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZ3JvdXApO1xyXG4gICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgfSkpXHJcbiAgICAgIDo6Zm9yRWFjaCgoW3BhdGgsIGVsZW1lbnRdKSA9PiBwYXRoLnJlbmRlcihlbGVtZW50KSk7XHJcblxyXG4gICAgY29uc3Qgbm9kZUZvY3VzRWxlbWVudCA9IG1heWJlKHN2Zy5xdWVyeVNlbGVjdG9yKCcjbm9kZS1mb2N1cycpKTtcclxuXHJcbiAgICB0aGlzLnBhdGhGb2N1cy5tYXRjaCh7XHJcbiAgICAgIE5vbmU6ICgpID0+IG5vZGVGb2N1c0VsZW1lbnQ6OmZvckVhY2gozrsucmVtb3ZlKCkpLFxyXG4gICAgICBTb21lOiAocGF0aCkgPT4ge1xyXG4gICAgICAgIHRoaXMubm9kZUZvY3VzXHJcbiAgICAgICAgICA6Om1hcChfLnBvaW50KVxyXG4gICAgICAgICAgOjpmb3JFYWNoKCh7IHgsIHkgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbm9kZUZvY3VzRWxlbWVudC52YWx1ZU9yRWxzZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICA6OnNldEF0dHJpYnV0ZSgnaWQnLCAnbm9kZS1mb2N1cycpXHJcbiAgICAgICAgICAgICAgICA6OnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZm9jdXMnKVxyXG4gICAgICAgICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ3InLCA4KTtcclxuICAgICAgICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbGVtZW50XHJcbiAgICAgICAgICAgICAgOjpzZXRBdHRyaWJ1dGUoJ2N4JywgeClcclxuICAgICAgICAgICAgICA6OnNldEF0dHJpYnV0ZSgnY3knLCB5KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQWxCQTtBQW9CQTtBQUNBO0FBdE9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Editor/World.js\n");

/***/ }),

/***/ "./src/Editor/index.js":
/*!*****************************!*\
  !*** ./src/Editor/index.js ***!
  \*****************************/
/*! exports provided: Editor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Editor\", function() { return Editor; });\n/* harmony import */ var _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/AsyncIterator */ \"./src/utility/AsyncIterator.js\");\n/* harmony import */ var _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/Iterator */ \"./src/utility/Iterator.js\");\n/* harmony import */ var _utility_Keypath__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/Keypath */ \"./src/utility/Keypath.js\");\n/* harmony import */ var _utility_Event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utility/Event */ \"./src/utility/Event.js\");\n/* harmony import */ var _World__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./World */ \"./src/Editor/World.js\");\n/* harmony import */ var _Node__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Node */ \"./src/Editor/Node.js\");\n/* harmony import */ var _StateStack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./StateStack */ \"./src/Editor/StateStack.js\");\n/* harmony import */ var _Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Toolbar/Button */ \"./src/Toolbar/Button.js\");\n/* harmony import */ var _utility_Geometry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utility/Geometry */ \"./src/utility/Geometry.js\");\n\n\n\n\n\n\n\n\n\nconst [SVG, STATE, TOOL] = Symbol.generate('SVG', 'STATE', 'TOOL');\nconst preventDefault = ['Backspace', '^s', '^d', '^a'];\nclass Editor {\n  constructor(svg, toolbar) {\n    var _context2;\n\n    this[SVG] = svg;\n    this[STATE] = new _StateStack__WEBPACK_IMPORTED_MODULE_6__[\"StateStack\"](new _World__WEBPACK_IMPORTED_MODULE_4__[\"World\"]());\n    this[TOOL] = _Node__WEBPACK_IMPORTED_MODULE_5__[\"Line\"];\n    const tools = [[_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('M'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"Move\"]], [_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('L'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"Line\"]], [_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('C'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"Cubic\"]], [_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('S'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"ContinueCubic\"]], [_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('Q'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"Quadratic\"]], [_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('T'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"ContinueQuadratic\"]], [_Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('A'), _Node__WEBPACK_IMPORTED_MODULE_5__[\"Arc\"]]];\n    const undo = _Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('Undo');\n    _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"].call(undo, () => this[STATE].undo());\n    const redo = _Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('Redo');\n    _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"].call(redo, () => this[STATE].redo());\n    const close = _Toolbar_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"].titled('Close');\n    _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"].call(close, () => this[STATE].do((world, transient, commit) => commit(world.closePath())));\n    _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"forEach\"].call(tools, ([button, tool]) => {\n      var _context;\n\n      return (_context = _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"skip\"].call(button, 1), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context, () => this.tool = tool);\n    });\n    (_context2 = (_context2 = (_context2 = window, _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"event\"]).call(_context2, 'keydown'), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"tap\"]).call(_context2, event => preventDefault.includes(_utility_Event__WEBPACK_IMPORTED_MODULE_3__[\"Key\"].name(event)) && event.preventDefault()), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context2, this.handleKeyDown.bind(this));\n    (_context2 = (_context2 = (_context2 = this[SVG], _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"event\"]).call(_context2, 'mousedown'), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context2, this.parseMouseEvent.bind(this)), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context2, this.handleMouseDown.bind(this));\n    (_context2 = (_context2 = (_context2 = this[SVG], _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"event\"]).call(_context2, 'mouseup'), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context2, this.parseMouseEvent.bind(this)), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context2, this.handleMouseUp.bind(this));\n    (_context2 = (_context2 = (_context2 = this[SVG], _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"event\"]).call(_context2, 'mousemove'), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"]).call(_context2, this.parseMouseEvent.bind(this)), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context2, this.handleMouseMove.bind(this));\n    (_context2 = (_context2 = this[STATE], _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"enumerate\"]).call(_context2), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context2, ([generation, world]) => {\n      var _ref, _context3;\n\n      console.log(`Rendering generation ${generation}`);\n      world.render(this[SVG]);\n      _ref = (_context3 = (_context3 = _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"map\"].call(tools, ([button, tool]) => button.setAttribute('class', tool === this.tool ? 'selected' : '')), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"chain\"]).call(_context3, Object(_utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"of\"])(undo.setAttribute('disabled', !this[STATE].canUndo), redo.setAttribute('disabled', !this[STATE].canRedo), close)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_1__[\"collect\"]).call(_context3, Array), toolbar.render.call(toolbar, _ref);\n    });\n  }\n\n  get tool() {\n    return this[TOOL];\n  }\n\n  set tool(newValue) {\n    this[TOOL] = newValue;\n    this[STATE].refresh();\n  }\n\n  get offset() {\n    const {\n      top: y,\n      left: x\n    } = this[SVG].getBoundingClientRect();\n    return {\n      x,\n      y\n    };\n  }\n\n  parseMouseEvent({\n    clientX,\n    clientY,\n    target,\n    button,\n    buttons\n  }) {\n    return {\n      x: clientX - this.offset.x,\n      y: clientY - this.offset.y,\n      target,\n      button,\n      buttons\n    };\n  }\n\n  handleKeyDown(event) {\n    switch (_utility_Event__WEBPACK_IMPORTED_MODULE_3__[\"Key\"].name(event)) {\n      case 'z':\n        this[STATE].do((world, transient, commit) => commit(world.closePath()));\n        break;\n\n      case '^z':\n        this[STATE].undo();\n        break;\n\n      case '^Z':\n        this[STATE].redo();\n        break;\n\n      case '^y':\n        this[STATE].redo();\n        break;\n\n      case '^d':\n        this[STATE].do((world, transient, commit) => commit(world.blur()));\n        break;\n\n      case 'm':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"Move\"];\n        break;\n\n      case 'l':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"Line\"];\n        break;\n\n      case 'c':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"Cubic\"];\n        break;\n\n      case 's':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"ContinueCubic\"];\n        break;\n\n      case 'q':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"Quadratic\"];\n        break;\n\n      case 't':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"ContinueQuadratic\"];\n        break;\n\n      case 'a':\n        this.tool = _Node__WEBPACK_IMPORTED_MODULE_5__[\"Arc\"];\n        break;\n\n      case 'Delete':\n        this[STATE].do((world, transient, commit) => commit(world.deleteNode()));\n        break;\n\n      case 'Escape':\n        this[STATE].discard();\n        break;\n    }\n  }\n\n  handleMouseDown({\n    x,\n    y,\n    target,\n    button,\n    buttons\n  }) {\n    this[STATE].do((world, transient, commit) => {\n      switch (button) {\n        case _utility_Event__WEBPACK_IMPORTED_MODULE_3__[\"Mouse\"].Left:\n          if (target === svg) {\n            const point = new _utility_Geometry__WEBPACK_IMPORTED_MODULE_8__[\"Point\"](x, y);\n\n            if (this.tool === _Node__WEBPACK_IMPORTED_MODULE_5__[\"Move\"] || !world.canAppend) {\n              return transient(world.startPath(...point));\n            }\n\n            const path = world.pathFocus.valueOf();\n            const nodeFocus = world.nodeFocus.valueOf();\n            let control = path.isEnd(nodeFocus) ? path.nextControlPoint(nodeFocus) : path.previousControlPoint(nodeFocus);\n            let node;\n\n            switch (this.tool) {\n              case _Node__WEBPACK_IMPORTED_MODULE_5__[\"Line\"]:\n              case _Node__WEBPACK_IMPORTED_MODULE_5__[\"Arc\"]:\n              case _Node__WEBPACK_IMPORTED_MODULE_5__[\"ContinueQuadratic\"]:\n                node = new this.tool(...point);\n                break;\n\n              case _Node__WEBPACK_IMPORTED_MODULE_5__[\"ContinueCubic\"]:\n                control = control.follow(nodeFocus.point, point).mirrorTowards(control, point);\n\n              case _Node__WEBPACK_IMPORTED_MODULE_5__[\"Quadratic\"]:\n                node = new this.tool(...control, ...point);\n                break;\n\n              case _Node__WEBPACK_IMPORTED_MODULE_5__[\"Cubic\"]:\n                node = new this.tool(...control, ...control.follow(nodeFocus.point, point).mirrorTowards(nodeFocus.point, point), x, y);\n                break;\n            }\n\n            return transient(world.appendNode(node));\n          }\n\n          while (target && !target.id) {\n            target = target.parentNode;\n          }\n\n          if (target) {\n            return transient(world.activate(target.id));\n          }\n\n          break;\n      }\n    });\n  }\n\n  handleMouseUp({\n    x,\n    y,\n    target,\n    button,\n    buttons\n  }) {\n    this[STATE].do((world, transient, commit) => {\n      switch (button) {\n        case _utility_Event__WEBPACK_IMPORTED_MODULE_3__[\"Mouse\"].Left:\n          return commit(world.deactivate());\n          break;\n      }\n    });\n  }\n\n  handleMouseMove({\n    x,\n    y,\n    buttons\n  }) {\n    this[STATE].do((world, transient, commit) => {\n      if (buttons === _utility_Event__WEBPACK_IMPORTED_MODULE_3__[\"Mouse\"].mask(_utility_Event__WEBPACK_IMPORTED_MODULE_3__[\"Mouse\"].Left)) {\n        return transient(world.dragNode(x, y));\n      }\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRWRpdG9yL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL0VkaXRvci9pbmRleC5qcz8wNWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgZXZlbnQsXHJcbiAgc2tpcCBhcyBza2lwQXN5bmMsXHJcbiAgdGFwIGFzIHRhcEFzeW5jLFxyXG4gIGVudW1lcmF0ZSBhcyBlbnVtZXJhdGVBc3luYyxcclxuICBmaWx0ZXIgYXMgZmlsdGVyQXN5bmMsXHJcbiAgbWFwIGFzIG1hcEFzeW5jLFxyXG4gIGZvckVhY2ggYXMgZm9yRWFjaEFzeW5jXHJcbn0gZnJvbSAnLi4vdXRpbGl0eS9Bc3luY0l0ZXJhdG9yJztcclxuaW1wb3J0IHsgb2YsIGNoYWluLCBtYXAsIGZvckVhY2gsIGNvbGxlY3QgfSBmcm9tICcuLi91dGlsaXR5L0l0ZXJhdG9yJztcclxuaW1wb3J0IHsgzrsgfSBmcm9tICcuLi91dGlsaXR5L0tleXBhdGgnO1xyXG5pbXBvcnQgeyBNb3VzZSwgS2V5IH0gZnJvbSAnLi4vdXRpbGl0eS9FdmVudCc7XHJcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnLi9Xb3JsZCc7XHJcbmltcG9ydCB7IE1vdmUsIExpbmUsIEN1YmljLCBDb250aW51ZUN1YmljLCBRdWFkcmF0aWMsIENvbnRpbnVlUXVhZHJhdGljLCBBcmMgfSBmcm9tICcuL05vZGUnO1xyXG5pbXBvcnQgeyBTdGF0ZVN0YWNrIH0gZnJvbSAnLi9TdGF0ZVN0YWNrJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vVG9vbGJhci9CdXR0b24nO1xyXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL3V0aWxpdHkvR2VvbWV0cnknO1xyXG5cclxuY29uc3QgW1NWRywgU1RBVEUsIFRPT0xdID0gU3ltYm9sLmdlbmVyYXRlKCdTVkcnLCAnU1RBVEUnLCAnVE9PTCcpO1xyXG5cclxuY29uc3QgcHJldmVudERlZmF1bHQgPSBbJ0JhY2tzcGFjZScsICdecycsICdeZCcsICdeYSddO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVkaXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc3ZnLCB0b29sYmFyKSB7XHJcbiAgICB0aGlzW1NWR10gPSBzdmc7XHJcbiAgICB0aGlzW1NUQVRFXSA9IG5ldyBTdGF0ZVN0YWNrKG5ldyBXb3JsZCk7XHJcbiAgICB0aGlzW1RPT0xdID0gTGluZTtcclxuXHJcbiAgICBjb25zdCB0b29scyA9IFtcclxuICAgICAgW0J1dHRvbi50aXRsZWQoJ00nKSwgTW92ZV0sXHJcbiAgICAgIFtCdXR0b24udGl0bGVkKCdMJyksIExpbmVdLFxyXG4gICAgICBbQnV0dG9uLnRpdGxlZCgnQycpLCBDdWJpY10sXHJcbiAgICAgIFtCdXR0b24udGl0bGVkKCdTJyksIENvbnRpbnVlQ3ViaWNdLFxyXG4gICAgICBbQnV0dG9uLnRpdGxlZCgnUScpLCBRdWFkcmF0aWNdLFxyXG4gICAgICBbQnV0dG9uLnRpdGxlZCgnVCcpLCBDb250aW51ZVF1YWRyYXRpY10sXHJcbiAgICAgIFtCdXR0b24udGl0bGVkKCdBJyksIEFyY10sXHJcbiAgICBdO1xyXG4gICAgY29uc3QgdW5kbyA9IEJ1dHRvbi50aXRsZWQoJ1VuZG8nKTtcclxuICAgIHVuZG86OmZvckVhY2hBc3luYygoKSA9PiB0aGlzW1NUQVRFXS51bmRvKCkpO1xyXG4gICAgY29uc3QgcmVkbyA9IEJ1dHRvbi50aXRsZWQoJ1JlZG8nKTtcclxuICAgIHJlZG86OmZvckVhY2hBc3luYygoKSA9PiB0aGlzW1NUQVRFXS5yZWRvKCkpO1xyXG4gICAgY29uc3QgY2xvc2UgPSBCdXR0b24udGl0bGVkKCdDbG9zZScpO1xyXG4gICAgY2xvc2U6OmZvckVhY2hBc3luYygoKSA9PiB0aGlzW1NUQVRFXS5kbygod29ybGQsIHRyYW5zaWVudCwgY29tbWl0KSA9PiBjb21taXQod29ybGQuY2xvc2VQYXRoKCkpKSk7XHJcblxyXG4gICAgdG9vbHNcclxuICAgICAgOjpmb3JFYWNoKChbYnV0dG9uLCB0b29sXSkgPT4gYnV0dG9uXHJcbiAgICAgICAgOjpza2lwQXN5bmMoMSlcclxuICAgICAgICA6OmZvckVhY2hBc3luYygoKSA9PiB0aGlzLnRvb2wgPSB0b29sKVxyXG4gICAgICApO1xyXG5cclxuICAgIHdpbmRvd1xyXG4gICAgICA6OmV2ZW50KCdrZXlkb3duJylcclxuICAgICAgOjp0YXBBc3luYyhldmVudCA9PiBwcmV2ZW50RGVmYXVsdC5pbmNsdWRlcyhLZXkubmFtZShldmVudCkpICYmIGV2ZW50LnByZXZlbnREZWZhdWx0KCkpXHJcbiAgICAgIDo6Zm9yRWFjaEFzeW5jKDo6dGhpcy5oYW5kbGVLZXlEb3duKTtcclxuICAgIHRoaXNbU1ZHXVxyXG4gICAgICA6OmV2ZW50KCdtb3VzZWRvd24nKVxyXG4gICAgICA6Om1hcEFzeW5jKDo6dGhpcy5wYXJzZU1vdXNlRXZlbnQpXHJcbiAgICAgIDo6Zm9yRWFjaEFzeW5jKDo6dGhpcy5oYW5kbGVNb3VzZURvd24pO1xyXG4gICAgdGhpc1tTVkddXHJcbiAgICAgIDo6ZXZlbnQoJ21vdXNldXAnKVxyXG4gICAgICA6Om1hcEFzeW5jKDo6dGhpcy5wYXJzZU1vdXNlRXZlbnQpXHJcbiAgICAgIDo6Zm9yRWFjaEFzeW5jKDo6dGhpcy5oYW5kbGVNb3VzZVVwKTtcclxuICAgIHRoaXNbU1ZHXVxyXG4gICAgICA6OmV2ZW50KCdtb3VzZW1vdmUnKVxyXG4gICAgICA6Om1hcEFzeW5jKDo6dGhpcy5wYXJzZU1vdXNlRXZlbnQpXHJcbiAgICAgIDo6Zm9yRWFjaEFzeW5jKDo6dGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgdGhpc1tTVEFURV1cclxuICAgICAgOjplbnVtZXJhdGVBc3luYygpXHJcbiAgICAgIDo6Zm9yRWFjaEFzeW5jKChbZ2VuZXJhdGlvbiwgd29ybGRdKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFJlbmRlcmluZyBnZW5lcmF0aW9uICR7Z2VuZXJhdGlvbn1gKTtcclxuICAgICAgICB3b3JsZC5yZW5kZXIodGhpc1tTVkddKTtcclxuICAgICAgICB0b29sc1xyXG4gICAgICAgICAgOjptYXAoKFtidXR0b24sIHRvb2xdKSA9PiBidXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsIHRvb2wgPT09IHRoaXMudG9vbCA/ICdzZWxlY3RlZCcgOiAnJykpXHJcbiAgICAgICAgICA6OmNoYWluKG9mKFxyXG4gICAgICAgICAgICB1bmRvLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAhdGhpc1tTVEFURV0uY2FuVW5kbyksXHJcbiAgICAgICAgICAgIHJlZG8uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICF0aGlzW1NUQVRFXS5jYW5SZWRvKSxcclxuICAgICAgICAgICAgY2xvc2UsXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgICAgOjpjb2xsZWN0KEFycmF5KVxyXG4gICAgICAgICAgfD4gOjp0b29sYmFyLnJlbmRlcjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXQgdG9vbCgpIHsgcmV0dXJuIHRoaXNbVE9PTF07IH1cclxuICBzZXQgdG9vbChuZXdWYWx1ZSkge1xyXG4gICAgdGhpc1tUT09MXSA9IG5ld1ZhbHVlO1xyXG4gICAgdGhpc1tTVEFURV0ucmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG9mZnNldCgpIHtcclxuICAgIGNvbnN0IHsgdG9wOiB5LCBsZWZ0OiB4IH0gPSB0aGlzW1NWR10uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgfVxyXG5cclxuICBwYXJzZU1vdXNlRXZlbnQoeyBjbGllbnRYLCBjbGllbnRZLCB0YXJnZXQsIGJ1dHRvbiwgYnV0dG9ucyB9KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiBjbGllbnRYIC0gdGhpcy5vZmZzZXQueCxcclxuICAgICAgeTogY2xpZW50WSAtIHRoaXMub2Zmc2V0LnksXHJcbiAgICAgIHRhcmdldCxcclxuICAgICAgYnV0dG9uLFxyXG4gICAgICBidXR0b25zLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93bihldmVudCkge1xyXG4gICAgc3dpdGNoIChLZXkubmFtZShldmVudCkpIHtcclxuICAgICAgY2FzZSAneic6XHJcbiAgICAgICAgdGhpc1tTVEFURV0uZG8oKHdvcmxkLCB0cmFuc2llbnQsIGNvbW1pdCkgPT4gY29tbWl0KHdvcmxkLmNsb3NlUGF0aCgpKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ156JzpcclxuICAgICAgICB0aGlzW1NUQVRFXS51bmRvKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ15aJzpcclxuICAgICAgICB0aGlzW1NUQVRFXS5yZWRvKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ155JzpcclxuICAgICAgICB0aGlzW1NUQVRFXS5yZWRvKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ15kJzpcclxuICAgICAgICB0aGlzW1NUQVRFXS5kbygod29ybGQsIHRyYW5zaWVudCwgY29tbWl0KSA9PiBjb21taXQod29ybGQuYmx1cigpKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ20nOlxyXG4gICAgICAgIHRoaXMudG9vbCA9IE1vdmU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2wnOlxyXG4gICAgICAgIHRoaXMudG9vbCA9IExpbmU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2MnOlxyXG4gICAgICAgIHRoaXMudG9vbCA9IEN1YmljO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzJzpcclxuICAgICAgICB0aGlzLnRvb2wgPSBDb250aW51ZUN1YmljO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdxJzpcclxuICAgICAgICB0aGlzLnRvb2wgPSBRdWFkcmF0aWM7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3QnOlxyXG4gICAgICAgIHRoaXMudG9vbCA9IENvbnRpbnVlUXVhZHJhdGljO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdhJzpcclxuICAgICAgICB0aGlzLnRvb2wgPSBBcmM7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0RlbGV0ZSc6XHJcbiAgICAgICAgdGhpc1tTVEFURV0uZG8oKHdvcmxkLCB0cmFuc2llbnQsIGNvbW1pdCkgPT4gY29tbWl0KHdvcmxkLmRlbGV0ZU5vZGUoKSkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdFc2NhcGUnOlxyXG4gICAgICAgIHRoaXNbU1RBVEVdLmRpc2NhcmQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZU1vdXNlRG93bih7IHgsIHksIHRhcmdldCwgYnV0dG9uLCBidXR0b25zIH0pIHtcclxuICAgIHRoaXNbU1RBVEVdLmRvKCh3b3JsZCwgdHJhbnNpZW50LCBjb21taXQpID0+IHtcclxuICAgICAgc3dpdGNoIChidXR0b24pIHtcclxuICAgICAgICBjYXNlIE1vdXNlLkxlZnQ6XHJcbiAgICAgICAgICBpZiAodGFyZ2V0ID09PSBzdmcpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoeCwgeSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2wgPT09IE1vdmUgfHwgIXdvcmxkLmNhbkFwcGVuZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cmFuc2llbnQod29ybGQuc3RhcnRQYXRoKC4uLnBvaW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHdvcmxkLnBhdGhGb2N1cy52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVGb2N1cyA9IHdvcmxkLm5vZGVGb2N1cy52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gcGF0aC5pc0VuZChub2RlRm9jdXMpID8gcGF0aC5uZXh0Q29udHJvbFBvaW50KG5vZGVGb2N1cykgOiBwYXRoLnByZXZpb3VzQ29udHJvbFBvaW50KG5vZGVGb2N1cyk7XHJcbiAgICAgICAgICAgIGxldCBub2RlO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudG9vbCkge1xyXG4gICAgICAgICAgICAgIGNhc2UgTGluZTpcclxuICAgICAgICAgICAgICBjYXNlIEFyYzpcclxuICAgICAgICAgICAgICBjYXNlIENvbnRpbnVlUXVhZHJhdGljOlxyXG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyB0aGlzLnRvb2woLi4ucG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSBDb250aW51ZUN1YmljOlxyXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IGNvbnRyb2wuZm9sbG93KG5vZGVGb2N1cy5wb2ludCwgcG9pbnQpLm1pcnJvclRvd2FyZHMoY29udHJvbCwgcG9pbnQpO1xyXG4gICAgICAgICAgICAgIGNhc2UgUXVhZHJhdGljOlxyXG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyB0aGlzLnRvb2woLi4uY29udHJvbCwgLi4ucG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSBDdWJpYzpcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgdGhpcy50b29sKC4uLmNvbnRyb2wsIC4uLmNvbnRyb2wuZm9sbG93KG5vZGVGb2N1cy5wb2ludCwgcG9pbnQpLm1pcnJvclRvd2FyZHMobm9kZUZvY3VzLnBvaW50LCBwb2ludCksIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zaWVudCh3b3JsZC5hcHBlbmROb2RlKG5vZGUpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHdoaWxlICh0YXJnZXQgJiYgIXRhcmdldC5pZCkge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zaWVudCh3b3JsZC5hY3RpdmF0ZSh0YXJnZXQuaWQpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZU1vdXNlVXAoeyB4LCB5LCB0YXJnZXQsIGJ1dHRvbiwgYnV0dG9ucyB9KSB7XHJcbiAgICB0aGlzW1NUQVRFXS5kbygod29ybGQsIHRyYW5zaWVudCwgY29tbWl0KSA9PiB7XHJcbiAgICAgIHN3aXRjaCAoYnV0dG9uKSB7XHJcbiAgICAgICAgY2FzZSBNb3VzZS5MZWZ0OlxyXG4gICAgICAgICAgcmV0dXJuIGNvbW1pdCh3b3JsZC5kZWFjdGl2YXRlKCkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTW91c2VNb3ZlKHsgeCwgeSwgYnV0dG9ucyB9KSB7XHJcbiAgICB0aGlzW1NUQVRFXS5kbygod29ybGQsIHRyYW5zaWVudCwgY29tbWl0KSA9PiB7XHJcbiAgICAgIGlmIChidXR0b25zID09PSBNb3VzZS5tYXNrKE1vdXNlLkxlZnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zaWVudCh3b3JsZC5kcmFnTm9kZSh4LCB5KSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFLQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBYkE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWxDQTtBQW9DQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNMQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Editor/index.js\n");

/***/ }),

/***/ "./src/Toolbar/Button.js":
/*!*******************************!*\
  !*** ./src/Toolbar/Button.js ***!
  \*******************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Button\", function() { return Button; });\n/* harmony import */ var _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/AsyncIterator */ \"./src/utility/AsyncIterator.js\");\n/* harmony import */ var _utility_EventStream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/EventStream */ \"./src/utility/EventStream.js\");\n\n\nconst [KEY, ELEMENT] = Symbol.generate('KEY');\nlet buttonKey = 0;\nclass Button extends _utility_EventStream__WEBPACK_IMPORTED_MODULE_1__[\"EventStream\"] {\n  static titled(title) {\n    return new Button(document.createTextNode(title));\n  }\n\n  constructor(contents) {\n    var _context2;\n\n    super();\n    this[KEY] = `button-${buttonKey++}`;\n    this[ELEMENT] = document.createElement('button');\n    this[ELEMENT].setAttribute('id', this.id);\n\n    if (contents instanceof Array) {\n      var _context;\n\n      _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"].call(contents, (_context = this[ELEMENT]).appendChild.bind(_context));\n    } else {\n      this[ELEMENT].appendChild(contents);\n    }\n\n    (_context2 = (_context2 = this[ELEMENT], _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"event\"]).call(_context2, 'click'), _utility_AsyncIterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context2, this.emit.bind(this));\n  }\n\n  setAttribute(attr, value) {\n    if (value) {\n      this[ELEMENT].setAttribute(attr, value);\n    } else {\n      this[ELEMENT].removeAttribute(attr);\n    }\n\n    return this;\n  }\n\n  get element() {\n    return this[ELEMENT];\n  }\n\n  get id() {\n    return this[KEY];\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVG9vbGJhci9CdXR0b24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVG9vbGJhci9CdXR0b24uanM/MjU0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldmVudCwgZm9yRWFjaCB9IGZyb20gJy4uL3V0aWxpdHkvQXN5bmNJdGVyYXRvcic7XHJcbmltcG9ydCB7IEV2ZW50U3RyZWFtIH0gZnJvbSAnLi4vdXRpbGl0eS9FdmVudFN0cmVhbSc7XHJcblxyXG5jb25zdCBbS0VZLCBFTEVNRU5UXSA9IFN5bWJvbC5nZW5lcmF0ZSgnS0VZJyk7XHJcblxyXG5sZXQgYnV0dG9uS2V5ID0gMDtcclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIEV2ZW50U3RyZWFtIHtcclxuICBzdGF0aWMgdGl0bGVkKHRpdGxlKSB7XHJcbiAgICByZXR1cm4gbmV3IEJ1dHRvbihkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aXRsZSkpO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoY29udGVudHMpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzW0tFWV0gPSBgYnV0dG9uLSR7YnV0dG9uS2V5Kyt9YDtcclxuICAgIHRoaXNbRUxFTUVOVF0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHRoaXNbRUxFTUVOVF0uc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuaWQpO1xyXG5cclxuICAgIGlmIChjb250ZW50cyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgIGNvbnRlbnRzOjpmb3JFYWNoKDo6dGhpc1tFTEVNRU5UXS5hcHBlbmRDaGlsZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzW0VMRU1FTlRdLmFwcGVuZENoaWxkKGNvbnRlbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzW0VMRU1FTlRdXHJcbiAgICAgIDo6ZXZlbnQoJ2NsaWNrJylcclxuICAgICAgOjpmb3JFYWNoKDo6dGhpcy5lbWl0KTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIHRoaXNbRUxFTUVOVF0uc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXNbRUxFTUVOVF0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXQgZWxlbWVudCgpIHtcclxuICAgIHJldHVybiB0aGlzW0VMRU1FTlRdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbS0VZXTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdENBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Toolbar/Button.js\n");

/***/ }),

/***/ "./src/Toolbar/index.js":
/*!******************************!*\
  !*** ./src/Toolbar/index.js ***!
  \******************************/
/*! exports provided: Toolbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Toolbar\", function() { return Toolbar; });\n/* harmony import */ var _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/Iterator */ \"./src/utility/Iterator.js\");\n/* harmony import */ var _utility_Keypath__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility/Keypath */ \"./src/utility/Keypath.js\");\n\n\nconst [ELEMENT, BUTTONS] = Symbol.generate('ELEMENT', 'BUTTONS');\nclass Toolbar {\n  constructor(element) {\n    this[ELEMENT] = element;\n  }\n\n  get width() {\n    return this[ELEMENT].clientWidth;\n  }\n\n  get height() {\n    return this[ELEMENT].clientHeight;\n  }\n\n  render(buttons) {\n    var _context;\n\n    (_context = (_context = this[ELEMENT].children, _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"filter\"]).call(_context, element => !_utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"contains\"].call(buttons, button => button.id === element.id)), _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"]).call(_context, _utility_Keypath__WEBPACK_IMPORTED_MODULE_1__[\"位\"].remove());\n    _utility_Iterator__WEBPACK_IMPORTED_MODULE_0__[\"forEach\"].call(buttons, button => {\n      if (button.element.parentNode !== this.element) {\n        this[ELEMENT].appendChild(button.element);\n      }\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVG9vbGJhci9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9Ub29sYmFyL2luZGV4LmpzP2M3YmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGFwLCBtYXAsIGZsYXR0ZW4sIGZpbHRlciwgY29udGFpbnMsIGZvckVhY2ggfSBmcm9tICcuLi91dGlsaXR5L0l0ZXJhdG9yJztcclxuaW1wb3J0IHsgXywgzrsgfSBmcm9tICcuLi91dGlsaXR5L0tleXBhdGgnO1xyXG5jb25zdCBbRUxFTUVOVCwgQlVUVE9OU10gPSBTeW1ib2wuZ2VuZXJhdGUoJ0VMRU1FTlQnLCAnQlVUVE9OUycpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xiYXIge1xyXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcclxuICAgIHRoaXNbRUxFTUVOVF0gPSBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0IHdpZHRoKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbRUxFTUVOVF0uY2xpZW50V2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgcmV0dXJuIHRoaXNbRUxFTUVOVF0uY2xpZW50SGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKGJ1dHRvbnMpIHtcclxuICAgIHRoaXNbRUxFTUVOVF0uY2hpbGRyZW5cclxuICAgICAgOjpmaWx0ZXIoZWxlbWVudCA9PiAhYnV0dG9uczo6Y29udGFpbnMoYnV0dG9uID0+IGJ1dHRvbi5pZCA9PT0gZWxlbWVudC5pZCkpXHJcbiAgICAgIDo6Zm9yRWFjaCjOuy5yZW1vdmUoKSk7XHJcbiAgICBidXR0b25zOjpmb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgIGlmIChidXR0b24uZWxlbWVudC5wYXJlbnROb2RlICE9PSB0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzW0VMRU1FTlRdLmFwcGVuZENoaWxkKGJ1dHRvbi5lbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2QkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Toolbar/index.js\n");

/***/ }),

/***/ "./src/extension/Symbol+Generate.js":
/*!******************************************!*\
  !*** ./src/extension/Symbol+Generate.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("Symbol.generate = function* (...names) {\n  let i = 0;\n\n  for (;;) yield Symbol(names[i++] || i);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXh0ZW5zaW9uL1N5bWJvbCtHZW5lcmF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9leHRlbnNpb24vU3ltYm9sK0dlbmVyYXRlLmpzP2Y2NGQiXSwic291cmNlc0NvbnRlbnQiOlsiU3ltYm9sLmdlbmVyYXRlID0gZnVuY3Rpb24gKiAoLi4ubmFtZXMpIHtcclxuICBsZXQgaSA9IDA7XHJcbiAgZm9yICg7OylcclxuICAgICB5aWVsZCBTeW1ib2wobmFtZXNbaSsrXSB8fCBpKTtcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/extension/Symbol+Generate.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _extension_Symbol_Generate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./extension/Symbol+Generate */ \"./src/extension/Symbol+Generate.js\");\n/* harmony import */ var _extension_Symbol_Generate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_extension_Symbol_Generate__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Toolbar */ \"./src/Toolbar/index.js\");\n/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Editor */ \"./src/Editor/index.js\");\n\n\n\nconst toolbar = new _Toolbar__WEBPACK_IMPORTED_MODULE_1__[\"Toolbar\"](document.querySelector('#toolbar'));\nconst svg = document.querySelector('#svg');\nsvg.setAttribute('width', window.innerWidth - toolbar.width);\nsvg.setAttribute('height', window.innerHeight);\nconst editor = new _Editor__WEBPACK_IMPORTED_MODULE_2__[\"Editor\"](svg, toolbar);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vZXh0ZW5zaW9uL1N5bWJvbCtHZW5lcmF0ZSc7XHJcblxyXG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAnLi9Ub29sYmFyJztcclxuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnLi9FZGl0b3InO1xyXG5cclxuY29uc3QgdG9vbGJhciA9IG5ldyBUb29sYmFyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b29sYmFyJykpO1xyXG5cclxuY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2ZycpO1xyXG5zdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpbmRvdy5pbm5lcldpZHRoIC0gdG9vbGJhci53aWR0aCk7XHJcbnN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcblxyXG5jb25zdCBlZGl0b3IgPSBuZXcgRWRpdG9yKHN2ZywgdG9vbGJhcik7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/utility/AsyncIterator.js":
/*!**************************************!*\
  !*** ./src/utility/AsyncIterator.js ***!
  \**************************************/
/*! exports provided: event, enumerate, map, filter, forEach, tap, skip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"event\", function() { return event; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enumerate\", function() { return enumerate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"map\", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filter\", function() { return filter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forEach\", function() { return forEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tap\", function() { return tap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"skip\", function() { return skip; });\nfunction _asyncIterator(iterable) { var method; if (typeof Symbol === \"function\") { if (Symbol.asyncIterator) { method = iterable[Symbol.asyncIterator]; if (method != null) return method.call(iterable); } if (Symbol.iterator) { method = iterable[Symbol.iterator]; if (method != null) return method.call(iterable); } } throw new TypeError(\"Object is not async iterable\"); }\n\nfunction _awaitAsyncGenerator(value) { return new _AwaitValue(value); }\n\nfunction _wrapAsyncGenerator(fn) { return function () { return new _AsyncGenerator(fn.apply(this, arguments)); }; }\n\nfunction _AsyncGenerator(gen) { var front, back; function send(key, arg) { return new Promise(function (resolve, reject) { var request = { key: key, arg: arg, resolve: resolve, reject: reject, next: null }; if (back) { back = back.next = request; } else { front = back = request; resume(key, arg); } }); } function resume(key, arg) { try { var result = gen[key](arg); var value = result.value; var wrappedAwait = value instanceof _AwaitValue; Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) { if (wrappedAwait) { resume(\"next\", arg); return; } settle(result.done ? \"return\" : \"normal\", arg); }, function (err) { resume(\"throw\", err); }); } catch (err) { settle(\"throw\", err); } } function settle(type, value) { switch (type) { case \"return\": front.resolve({ value: value, done: true }); break; case \"throw\": front.reject(value); break; default: front.resolve({ value: value, done: false }); break; } front = front.next; if (front) { resume(front.key, front.arg); } else { back = null; } } this._invoke = send; if (typeof gen.return !== \"function\") { this.return = undefined; } }\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) { _AsyncGenerator.prototype[Symbol.asyncIterator] = function () { return this; }; }\n\n_AsyncGenerator.prototype.next = function (arg) { return this._invoke(\"next\", arg); };\n\n_AsyncGenerator.prototype.throw = function (arg) { return this._invoke(\"throw\", arg); };\n\n_AsyncGenerator.prototype.return = function (arg) { return this._invoke(\"return\", arg); };\n\nfunction _AwaitValue(value) { this.wrapped = value; }\n\nfunction event(_x) {\n  return _event.apply(this, arguments);\n}\n\nfunction _event() {\n  _event = _wrapAsyncGenerator(function* (eventName) {\n    let next;\n    this.addEventListener(eventName, event => next(event));\n\n    for (;;) {\n      yield new Promise(resolve => next = resolve);\n    }\n  });\n  return _event.apply(this, arguments);\n}\n\nfunction enumerate() {\n  return _enumerate.apply(this, arguments);\n}\n\nfunction _enumerate() {\n  _enumerate = _wrapAsyncGenerator(function* () {\n    let i = 0;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n\n    var _iteratorError;\n\n    try {\n      for (var _iterator = _asyncIterator(this), _step, _value; _step = yield _awaitAsyncGenerator(_iterator.next()), _iteratorNormalCompletion = _step.done, _value = yield _awaitAsyncGenerator(_step.value), !_iteratorNormalCompletion; _iteratorNormalCompletion = true) {\n        const element = _value;\n        yield [i++, element];\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          yield _awaitAsyncGenerator(_iterator.return());\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  });\n  return _enumerate.apply(this, arguments);\n}\n\nfunction map(_x2) {\n  return _map.apply(this, arguments);\n}\n\nfunction _map() {\n  _map = _wrapAsyncGenerator(function* (transform) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n\n    var _iteratorError2;\n\n    try {\n      for (var _iterator2 = _asyncIterator(this), _step2, _value2; _step2 = yield _awaitAsyncGenerator(_iterator2.next()), _iteratorNormalCompletion2 = _step2.done, _value2 = yield _awaitAsyncGenerator(_step2.value), !_iteratorNormalCompletion2; _iteratorNormalCompletion2 = true) {\n        const element = _value2;\n        yield transform(element);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          yield _awaitAsyncGenerator(_iterator2.return());\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  });\n  return _map.apply(this, arguments);\n}\n\nfunction filter(_x3) {\n  return _filter.apply(this, arguments);\n}\n\nfunction _filter() {\n  _filter = _wrapAsyncGenerator(function* (keep) {\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n\n    var _iteratorError3;\n\n    try {\n      for (var _iterator3 = _asyncIterator(this), _step3, _value3; _step3 = yield _awaitAsyncGenerator(_iterator3.next()), _iteratorNormalCompletion3 = _step3.done, _value3 = yield _awaitAsyncGenerator(_step3.value), !_iteratorNormalCompletion3; _iteratorNormalCompletion3 = true) {\n        const element = _value3;\n        if (yield _awaitAsyncGenerator(keep(element))) yield element;\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          yield _awaitAsyncGenerator(_iterator3.return());\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n  });\n  return _filter.apply(this, arguments);\n}\n\nasync function forEach(handler) {\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n\n  var _iteratorError4;\n\n  try {\n    for (var _iterator4 = _asyncIterator(this), _step4, _value4; _step4 = await _iterator4.next(), _iteratorNormalCompletion4 = _step4.done, _value4 = await _step4.value, !_iteratorNormalCompletion4; _iteratorNormalCompletion4 = true) {\n      const element = _value4;\n      handler(element);\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n        await _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n}\nfunction tap(_x4) {\n  return _tap.apply(this, arguments);\n}\n\nfunction _tap() {\n  _tap = _wrapAsyncGenerator(function* (handler) {\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n\n    var _iteratorError5;\n\n    try {\n      for (var _iterator5 = _asyncIterator(this), _step5, _value5; _step5 = yield _awaitAsyncGenerator(_iterator5.next()), _iteratorNormalCompletion5 = _step5.done, _value5 = yield _awaitAsyncGenerator(_step5.value), !_iteratorNormalCompletion5; _iteratorNormalCompletion5 = true) {\n        const element = _value5;\n        yield _awaitAsyncGenerator(handler(element));\n        yield element;\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n          yield _awaitAsyncGenerator(_iterator5.return());\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  });\n  return _tap.apply(this, arguments);\n}\n\nfunction skip(_x5) {\n  return _skip.apply(this, arguments);\n}\n\nfunction _skip() {\n  _skip = _wrapAsyncGenerator(function* (count) {\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n\n    var _iteratorError6;\n\n    try {\n      for (var _iterator6 = _asyncIterator(this), _step6, _value6; _step6 = yield _awaitAsyncGenerator(_iterator6.next()), _iteratorNormalCompletion6 = _step6.done, _value6 = yield _awaitAsyncGenerator(_step6.value), !_iteratorNormalCompletion6; _iteratorNormalCompletion6 = true) {\n        const element = _value6;\n\n        if (count > 0) {\n          --count;\n        } else {\n          yield element;\n        }\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n          yield _awaitAsyncGenerator(_iterator6.return());\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  });\n  return _skip.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9Bc3luY0l0ZXJhdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvQXN5bmNJdGVyYXRvci5qcz9lZDY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhc3luYyBmdW5jdGlvbiAqIGV2ZW50KGV2ZW50TmFtZSkge1xyXG4gIGxldCBuZXh0O1xyXG4gIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50ID0+IG5leHQoZXZlbnQpKTtcclxuICBmb3IgKDs7KSB7XHJcbiAgICB5aWVsZCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IG5leHQgPSByZXNvbHZlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiAqIGVudW1lcmF0ZSgpIHtcclxuICBsZXQgaSA9IDA7XHJcbiAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIHlpZWxkIFtpKyssIGVsZW1lbnRdO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uICogbWFwKHRyYW5zZm9ybSkge1xyXG4gIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICB5aWVsZCB0cmFuc2Zvcm0oZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gKiBmaWx0ZXIoa2VlcCkge1xyXG4gIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiB0aGlzKVxyXG4gICAgaWYgKGF3YWl0IGtlZXAoZWxlbWVudCkpXHJcbiAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JFYWNoKGhhbmRsZXIpIHtcclxuICBmb3IgYXdhaXQgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcykge1xyXG4gICAgaGFuZGxlcihlbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiAqIHRhcChoYW5kbGVyKSB7XHJcbiAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIGF3YWl0IGhhbmRsZXIoZWxlbWVudCk7XHJcbiAgICB5aWVsZCBlbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uICogc2tpcChjb3VudCkge1xyXG4gIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAgIC0tY291bnQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB5aWVsZCBlbGVtZW50O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQUE7QUFBQTtBQUNBOztBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTs7OztBQUVBO0FBQUE7QUFBQTtBQUNBOztBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7Ozs7QUFFQTtBQUFBO0FBQUE7QUFDQTs7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBOzs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUNBOztBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTs7OztBQUVBO0FBQUE7QUFBQTtBQUNBOztBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utility/AsyncIterator.js\n");

/***/ }),

/***/ "./src/utility/Event.js":
/*!******************************!*\
  !*** ./src/utility/Event.js ***!
  \******************************/
/*! exports provided: Mouse, Key */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Mouse\", function() { return Mouse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Key\", function() { return Key; });\n/* harmony import */ var _Iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Iterator */ \"./src/utility/Iterator.js\");\n/* harmony import */ var _Operator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Operator */ \"./src/utility/Operator.js\");\n/* harmony import */ var _Functional__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Functional */ \"./src/utility/Functional.js\");\n\n\n\nconst Mouse = {\n  Left: 0,\n  Right: 1,\n  Middle: 2,\n  Back: 3,\n  Forward: 4,\n\n  mask(...buttons) {\n    var _context;\n\n    return (_context = _Iterator__WEBPACK_IMPORTED_MODULE_0__[\"map\"].call(buttons, x => 1 << x), _Iterator__WEBPACK_IMPORTED_MODULE_0__[\"fold\"]).call(_context, 0, Object(_Functional__WEBPACK_IMPORTED_MODULE_2__[\"uncurry\"])(_Operator__WEBPACK_IMPORTED_MODULE_1__[\"bor\"]));\n  }\n\n};\nconst Key = {\n  name({\n    key,\n    ctrlKey\n  }) {\n    return `${ctrlKey ? '^' : ''}${key}`;\n  }\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9FdmVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlsaXR5L0V2ZW50LmpzPzNlY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFwLCBmb2xkIH0gZnJvbSAnLi9JdGVyYXRvcic7XHJcbmltcG9ydCB7IGJvciB9IGZyb20gJy4vT3BlcmF0b3InO1xyXG5pbXBvcnQgeyB1bmN1cnJ5IH0gZnJvbSAnLi9GdW5jdGlvbmFsJztcclxuXHJcbmV4cG9ydCBjb25zdCBNb3VzZSA9IHtcclxuICBMZWZ0OiAwLFxyXG4gIFJpZ2h0OiAxLFxyXG4gIE1pZGRsZTogMixcclxuICBCYWNrOiAzLFxyXG4gIEZvcndhcmQ6IDQsXHJcblxyXG4gIG1hc2soLi4uYnV0dG9ucykge1xyXG4gICAgcmV0dXJuIGJ1dHRvbnM6Om1hcCh4ID0+IDEgPDwgeCk6OmZvbGQoMCwgdW5jdXJyeShib3IpKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgS2V5ID0ge1xyXG4gIG5hbWUoeyBrZXksIGN0cmxLZXkgfSkge1xyXG4gICAgcmV0dXJuIGAke2N0cmxLZXkgPyAnXicgOiAnJ30ke2tleX1gO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUpBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utility/Event.js\n");

/***/ }),

/***/ "./src/utility/EventStream.js":
/*!************************************!*\
  !*** ./src/utility/EventStream.js ***!
  \************************************/
/*! exports provided: EventStream */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventStream\", function() { return EventStream; });\n/* harmony import */ var _Functional__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Functional */ \"./src/utility/Functional.js\");\nfunction _awaitAsyncGenerator(value) { return new _AwaitValue(value); }\n\nfunction _wrapAsyncGenerator(fn) { return function () { return new _AsyncGenerator(fn.apply(this, arguments)); }; }\n\nfunction _AsyncGenerator(gen) { var front, back; function send(key, arg) { return new Promise(function (resolve, reject) { var request = { key: key, arg: arg, resolve: resolve, reject: reject, next: null }; if (back) { back = back.next = request; } else { front = back = request; resume(key, arg); } }); } function resume(key, arg) { try { var result = gen[key](arg); var value = result.value; var wrappedAwait = value instanceof _AwaitValue; Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) { if (wrappedAwait) { resume(\"next\", arg); return; } settle(result.done ? \"return\" : \"normal\", arg); }, function (err) { resume(\"throw\", err); }); } catch (err) { settle(\"throw\", err); } } function settle(type, value) { switch (type) { case \"return\": front.resolve({ value: value, done: true }); break; case \"throw\": front.reject(value); break; default: front.resolve({ value: value, done: false }); break; } front = front.next; if (front) { resume(front.key, front.arg); } else { back = null; } } this._invoke = send; if (typeof gen.return !== \"function\") { this.return = undefined; } }\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) { _AsyncGenerator.prototype[Symbol.asyncIterator] = function () { return this; }; }\n\n_AsyncGenerator.prototype.next = function (arg) { return this._invoke(\"next\", arg); };\n\n_AsyncGenerator.prototype.throw = function (arg) { return this._invoke(\"throw\", arg); };\n\n_AsyncGenerator.prototype.return = function (arg) { return this._invoke(\"return\", arg); };\n\nfunction _AwaitValue(value) { this.wrapped = value; }\n\n\nconst [ACCEPTORS] = Symbol.generate('ACCEPTORS');\nclass EventStream {\n  constructor() {\n    this[ACCEPTORS] = [];\n  }\n\n  emit(event) {\n    this[ACCEPTORS].forEach(Object(_Functional__WEBPACK_IMPORTED_MODULE_0__[\"callWith\"])(event));\n    this[ACCEPTORS] = [];\n  }\n\n  [Symbol.asyncIterator]() {\n    var _this = this;\n\n    return _wrapAsyncGenerator(function* () {\n      yield _this.current;\n\n      for (;;) {\n        var _context;\n\n        yield new Promise((_context = _this[ACCEPTORS]).push.bind(_context));\n      }\n    })();\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9FdmVudFN0cmVhbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlsaXR5L0V2ZW50U3RyZWFtLmpzPzg1N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FsbFdpdGggfSBmcm9tICcuL0Z1bmN0aW9uYWwnO1xyXG5cclxuY29uc3QgW0FDQ0VQVE9SU10gPSBTeW1ib2wuZ2VuZXJhdGUoJ0FDQ0VQVE9SUycpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50U3RyZWFtIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXNbQUNDRVBUT1JTXSA9IFtdO1xyXG4gIH1cclxuXHJcbiAgZW1pdChldmVudCkge1xyXG4gICAgdGhpc1tBQ0NFUFRPUlNdLmZvckVhY2goY2FsbFdpdGgoZXZlbnQpKTtcclxuICAgIHRoaXNbQUNDRVBUT1JTXSA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XHJcbiAgICB5aWVsZCB0aGlzLmN1cnJlbnQ7XHJcbiAgICBmb3IgKDs7KSB7XHJcbiAgICAgIHlpZWxkIG5ldyBQcm9taXNlKDo6dGhpc1tBQ0NFUFRPUlNdLnB1c2gpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBSkE7QUFLQTtBQUNBO0FBaEJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utility/EventStream.js\n");

/***/ }),

/***/ "./src/utility/Functional.js":
/*!***********************************!*\
  !*** ./src/utility/Functional.js ***!
  \***********************************/
/*! exports provided: id, compose, flip, uncurry, curry, callWith, print */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"id\", function() { return id; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flip\", function() { return flip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uncurry\", function() { return uncurry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"curry\", function() { return curry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"callWith\", function() { return callWith; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"print\", function() { return print; });\nfunction id(x) {\n  return x;\n}\nfunction compose(fn = id, ...rest) {\n  return (...args) => fn(compose(...rest)(...args));\n}\nfunction flip(fn) {\n  return a => b => fn(b)(a);\n}\nfunction uncurry(fn) {\n  return (a, b) => fn(a)(b);\n}\nfunction curry(fn, n = fn.length) {\n  if (n === 0) {\n    return fn;\n  }\n\n  const step = (...args) => a => {\n    return args.length === n - 1 ? fn(...args, a) : step(...args, a);\n  };\n\n  return step();\n}\nfunction callWith(...args) {\n  return fn => fn(...args);\n}\nfunction print(v) {\n  console.log(v);\n  return v;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9GdW5jdGlvbmFsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvRnVuY3Rpb25hbC5qcz81ZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpZCh4KSB7IHJldHVybiB4OyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlKGZuID0gaWQsIC4uLnJlc3QpIHtcclxuICByZXR1cm4gKC4uLmFyZ3MpID0+IGZuKGNvbXBvc2UoLi4ucmVzdCkoLi4uYXJncykpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmbGlwKGZuKSB7IHJldHVybiBhID0+IGIgPT4gZm4oYikoYSk7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIHVuY3VycnkoZm4pIHsgcmV0dXJuIChhLCBiKSA9PiBmbihhKShiKTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gY3VycnkoZm4sIG4gPSBmbi5sZW5ndGgpIHtcclxuICBpZiAobiA9PT0gMCkgeyByZXR1cm4gZm47IH1cclxuICBjb25zdCBzdGVwID0gKC4uLmFyZ3MpID0+IGEgPT4ge1xyXG4gICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSBuIC0gMVxyXG4gICAgICA/IGZuKC4uLmFyZ3MsIGEpXHJcbiAgICAgIDogc3RlcCguLi5hcmdzLCBhKTtcclxuICB9XHJcbiAgcmV0dXJuIHN0ZXAoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2FsbFdpdGgoLi4uYXJncykgeyByZXR1cm4gZm4gPT4gZm4oLi4uYXJncyk7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIHByaW50KHYpIHtcclxuICBjb25zb2xlLmxvZyh2KTtcclxuICByZXR1cm4gdjtcclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utility/Functional.js\n");

/***/ }),

/***/ "./src/utility/Geometry.js":
/*!*********************************!*\
  !*** ./src/utility/Geometry.js ***!
  \*********************************/
/*! exports provided: NoIntersection, Point, Line */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NoIntersection\", function() { return NoIntersection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Point\", function() { return Point; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Line\", function() { return Line; });\nclass NoIntersection extends Error {\n  constructor() {\n    super('Lines do not intersect');\n  }\n\n}\nclass Point {\n  static get origin() {\n    return new Point(0, 0);\n  }\n\n  constructor(x, y) {\n    this.x = Math.round(x);\n    this.y = Math.round(y);\n  }\n\n  reflectOver({\n    x,\n    y\n  }) {\n    return new Point(2 * x - this.x, 2 * y - this.y);\n  }\n\n  mirrorTowards(target, around) {\n    const line = Line.solve(target, around);\n    const perp = line.perpendicular(around);\n    const axis = perp.perpendicular(this);\n    return this.reflectOver(axis.intersection(perp));\n  }\n\n  follow(from, to) {\n    return new Point(this.x + to.x - from.x, this.y + to.y - from.y);\n  }\n\n  distanceTo({\n    x,\n    y\n  }) {\n    return Math.sqrt((this.x - x) ** 2 + (this.y - y) ** 2);\n  }\n\n  equals({\n    x,\n    y\n  }) {\n    return this.x === x && this.y === y;\n  }\n\n  *[Symbol.iterator]() {\n    yield this.x;\n    yield this.y;\n  }\n\n}\nclass Line {\n  static solve(start, end) {\n    if (end.x === start.x) {\n      return new Line(Infinity, start.x);\n    }\n\n    const m = (end.y - start.y) / (end.x - start.x);\n    const b = start.y - m * start.x;\n    return new Line(m, b);\n  }\n\n  static radial(m, {\n    x,\n    y\n  }) {\n    const b = y - m * x;\n    return new Line(m, b);\n  }\n\n  constructor(m, b) {\n    this.m = m;\n    this.b = b;\n  }\n\n  at(x) {\n    return this.m * x + this.b;\n  }\n\n  inverse(y) {\n    return (y - this.b) / this.m;\n  }\n\n  perpendicular(cross) {\n    return Line.radial(-1 / this.m, cross);\n  }\n\n  intersection(other) {\n    if (this.m === other.m) {\n      throw new NoIntersection();\n    }\n\n    if (Math.abs(this.m) === Infinity) {\n      return new Point(this.b, other.at(this.b));\n    } else if (Math.abs(other.m) === Infinity) {\n      return new Point(other.b, this.at(other.b));\n    } else if (this.m === 0) {\n      return new Point(other.inverse(this.b), this.b);\n    } else if (other.m === 0) {\n      return new Point(this.inverse(other.b), other.b);\n    }\n\n    const ratio = other.m / this.m;\n    const y = (other.b - ratio * this.b) / (1 - ratio);\n    return new Point(this.inverse(y), y);\n  }\n\n  *[Symbol.iterator]() {\n    yield this.start;\n    yield this.end;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9HZW9tZXRyeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlsaXR5L0dlb21ldHJ5LmpzP2E3ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIE5vSW50ZXJzZWN0aW9uIGV4dGVuZHMgRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ0xpbmVzIGRvIG5vdCBpbnRlcnNlY3QnKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludCB7XHJcbiAgc3RhdGljIGdldCBvcmlnaW4oKSB7IHJldHVybiBuZXcgUG9pbnQoMCwgMCk7IH1cclxuXHJcbiAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgdGhpcy54ID0gTWF0aC5yb3VuZCh4KTtcclxuICAgIHRoaXMueSA9IE1hdGgucm91bmQoeSk7XHJcbiAgfVxyXG5cclxuICByZWZsZWN0T3Zlcih7IHgsIHkgfSkge1xyXG4gICAgcmV0dXJuIG5ldyBQb2ludChcclxuICAgICAgMiAqIHggLSB0aGlzLngsXHJcbiAgICAgIDIgKiB5IC0gdGhpcy55LFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG1pcnJvclRvd2FyZHModGFyZ2V0LCBhcm91bmQpIHtcclxuICAgIGNvbnN0IGxpbmUgPSBMaW5lLnNvbHZlKHRhcmdldCwgYXJvdW5kKTtcclxuICAgIGNvbnN0IHBlcnAgPSBsaW5lLnBlcnBlbmRpY3VsYXIoYXJvdW5kKTtcclxuICAgIGNvbnN0IGF4aXMgPSBwZXJwLnBlcnBlbmRpY3VsYXIodGhpcyk7XHJcbiAgICByZXR1cm4gdGhpcy5yZWZsZWN0T3ZlcihheGlzLmludGVyc2VjdGlvbihwZXJwKSk7XHJcbiAgfVxyXG5cclxuICBmb2xsb3coZnJvbSwgdG8pIHtcclxuICAgIHJldHVybiBuZXcgUG9pbnQoXHJcbiAgICAgIHRoaXMueCArIHRvLnggLSBmcm9tLngsXHJcbiAgICAgIHRoaXMueSArIHRvLnkgLSBmcm9tLnksXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZGlzdGFuY2VUbyh7IHgsIHkgfSkge1xyXG4gICAgcmV0dXJuIE1hdGguc3FydCgodGhpcy54IC0geCkgKiogMiArICh0aGlzLnkgLSB5KSAqKiAyKTtcclxuICB9XHJcblxyXG4gIGVxdWFscyh7IHgsIHkgfSkge1xyXG4gICAgcmV0dXJuIHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHk7XHJcbiAgfVxyXG5cclxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICB5aWVsZCB0aGlzLng7XHJcbiAgICB5aWVsZCB0aGlzLnk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGluZSB7XHJcbiAgc3RhdGljIHNvbHZlKHN0YXJ0LCBlbmQpIHtcclxuICAgIGlmIChlbmQueCA9PT0gc3RhcnQueCkge1xyXG4gICAgICByZXR1cm4gbmV3IExpbmUoSW5maW5pdHksIHN0YXJ0LngpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbSA9IChlbmQueSAtIHN0YXJ0LnkpIC8gKGVuZC54IC0gc3RhcnQueCk7XHJcbiAgICBjb25zdCBiID0gc3RhcnQueSAtIG0gKiBzdGFydC54O1xyXG4gICAgcmV0dXJuIG5ldyBMaW5lKG0sIGIpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJhZGlhbChtLCB7IHgsIHkgfSkge1xyXG4gICAgY29uc3QgYiA9IHkgLSBtICogeDtcclxuICAgIHJldHVybiBuZXcgTGluZShtLCBiKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKG0sIGIpIHtcclxuICAgIHRoaXMubSA9IG07XHJcbiAgICB0aGlzLmIgPSBiO1xyXG4gIH1cclxuXHJcbiAgYXQoeCkge1xyXG4gICAgcmV0dXJuIHRoaXMubSAqIHggKyB0aGlzLmI7XHJcbiAgfVxyXG5cclxuICBpbnZlcnNlKHkpIHtcclxuICAgIHJldHVybiAoeSAtIHRoaXMuYikgLyB0aGlzLm07XHJcbiAgfVxyXG5cclxuICBwZXJwZW5kaWN1bGFyKGNyb3NzKSB7XHJcbiAgICByZXR1cm4gTGluZS5yYWRpYWwoLTEgLyB0aGlzLm0sIGNyb3NzKTtcclxuICB9XHJcblxyXG4gIGludGVyc2VjdGlvbihvdGhlcikge1xyXG4gICAgaWYgKHRoaXMubSA9PT0gb3RoZXIubSkge1xyXG4gICAgICB0aHJvdyBuZXcgTm9JbnRlcnNlY3Rpb247XHJcbiAgICB9XHJcbiAgICBpZiAoTWF0aC5hYnModGhpcy5tKSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLmIsIG90aGVyLmF0KHRoaXMuYikpO1xyXG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyhvdGhlci5tKSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQb2ludChvdGhlci5iLCB0aGlzLmF0KG90aGVyLmIpKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5tID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUG9pbnQob3RoZXIuaW52ZXJzZSh0aGlzLmIpLCB0aGlzLmIpO1xyXG4gICAgfSBlbHNlIGlmIChvdGhlci5tID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5pbnZlcnNlKG90aGVyLmIpLCBvdGhlci5iKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByYXRpbyA9IG90aGVyLm0gLyB0aGlzLm07XHJcbiAgICBjb25zdCB5ID0gKG90aGVyLmIgLSByYXRpbyAqIHRoaXMuYikgLyAoMSAtIHJhdGlvKTtcclxuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5pbnZlcnNlKHkpLCB5KTtcclxuICB9XHJcblxyXG4gICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgIHlpZWxkIHRoaXMuc3RhcnQ7XHJcbiAgICB5aWVsZCB0aGlzLmVuZDtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6Q0E7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2REEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utility/Geometry.js\n");

/***/ }),

/***/ "./src/utility/Iterator.js":
/*!*********************************!*\
  !*** ./src/utility/Iterator.js ***!
  \*********************************/
/*! exports provided: of, zip, chain, flatMap, map, mapWith, flatten, filter, filterMap, enumerate, skip, take, nth, last, scan, fold, find, contains, findIndex, count, forEach, collect, tap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"of\", function() { return of; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"zip\", function() { return zip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chain\", function() { return chain; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatMap\", function() { return flatMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"map\", function() { return map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapWith\", function() { return mapWith; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatten\", function() { return flatten; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filter\", function() { return filter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterMap\", function() { return filterMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enumerate\", function() { return enumerate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"skip\", function() { return skip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"take\", function() { return take; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"nth\", function() { return nth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"last\", function() { return last; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scan\", function() { return scan; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fold\", function() { return fold; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"find\", function() { return find; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"contains\", function() { return contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findIndex\", function() { return findIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"count\", function() { return count; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forEach\", function() { return forEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collect\", function() { return collect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tap\", function() { return tap; });\n/* harmony import */ var _Keypath__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Keypath */ \"./src/utility/Keypath.js\");\n/* harmony import */ var _Option__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Option */ \"./src/utility/Option.js\");\n/* harmony import */ var _Functional__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Functional */ \"./src/utility/Functional.js\");\n/* harmony import */ var _Operator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Operator */ \"./src/utility/Operator.js\");\n\n\n\n // Creation\n\nfunction* of(...elements) {\n  yield* elements;\n}\nfunction* zip(...others) {\n  const all = [this, ...others].map(iter => iter[Symbol.iterator]());\n\n  for (;;) {\n    const nexts = all.map(iter => iter.next());\n\n    if (nexts.some(_Keypath__WEBPACK_IMPORTED_MODULE_0__[\"_\"].done)) {\n      return;\n    }\n\n    yield nexts.map(_Keypath__WEBPACK_IMPORTED_MODULE_0__[\"_\"].value);\n  }\n}\nfunction chain(...others) {\n  var _context;\n\n  return (_context = [this, ...others], flatten).call(_context);\n} // Operators\n\nfunction* flatMap(transform) {\n  for (const element of this) {\n    yield* transform(element);\n  }\n}\nfunction* map(transform) {\n  for (const element of this) yield transform(element);\n}\nfunction mapWith(transform) {\n  return map.call(this, x => [x, transform(x)]);\n}\nfunction flatten() {\n  return flatMap.call(this, _Functional__WEBPACK_IMPORTED_MODULE_2__[\"id\"]);\n}\nfunction* filter(keep) {\n  for (const element of this) if (keep(element)) yield element;\n}\nfunction* filterMap(transform) {\n  for (const element of this) {\n    var _ref, _element;\n\n    const transformed = (_ref = (_element = element, transform(_element)), Object(_Option__WEBPACK_IMPORTED_MODULE_1__[\"maybe\"])(_ref));\n    if (transformed.isSome) yield transformed.valueOf();\n  }\n}\nfunction* enumerate() {\n  let i = 0;\n\n  for (const element of this) {\n    yield [i++, element];\n  }\n} // Access\n\nfunction* skip(count) {\n  for (const element of this) {\n    if (count > 0) {\n      --count;\n    } else {\n      yield element;\n    }\n  }\n}\nfunction* take(count) {\n  for (const element of this) {\n    if (count > 0) {\n      --count;\n      yield element;\n    }\n  }\n}\nfunction nth(n) {\n  var _context2;\n\n  const [element] = (_context2 = skip.call(this, n), take).call(_context2, 1);\n  return Object(_Option__WEBPACK_IMPORTED_MODULE_1__[\"maybe\"])(element);\n}\nfunction last() {\n  const array = collect.call(this, Array);\n  return Object(_Option__WEBPACK_IMPORTED_MODULE_1__[\"maybe\"])(array[array.length - 1]);\n} // Consumption\n\nfunction* scan(init, acc) {\n  for (const element of this) {\n    yield init = acc(init, element);\n  }\n}\nfunction fold(init, acc) {\n  for (const element of this) {\n    init = acc(init, element);\n  }\n\n  return init;\n}\nfunction find(keep) {\n  var _context3;\n\n  return (_context3 = filter.call(this, keep), nth).call(_context3, 0);\n}\nfunction contains(pred) {\n  return find.call(this, pred).isSome;\n}\nfunction findIndex(keep) {\n  var _context4;\n\n  return (_context4 = (_context4 = (_context4 = enumerate.call(this), filter).call(_context4, ([_, item]) => keep(item)), map).call(_context4, _Keypath__WEBPACK_IMPORTED_MODULE_0__[\"_\"][0]), nth).call(_context4, 0);\n}\nfunction count() {\n  return fold.call(this, 0, c => c + 1);\n}\nfunction forEach(handler) {\n  for (const element of this) {\n    handler(element);\n  }\n}\nfunction collect(Type) {\n  return Type.fromIter(this);\n}\nfunction* tap(handler) {\n  for (const element of this) {\n    handler(element);\n    yield element;\n  }\n}\n\nArray.fromIter = iter => [...iter];\n\nMap.fromIter = iter => new Map(iter);\n\nSet.fromIter = iter => new Set(iter);\n\nString.fromIter = iter => new String([...iter].join());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9JdGVyYXRvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlsaXR5L0l0ZXJhdG9yLmpzPzg2ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyB9IGZyb20gJy4vS2V5cGF0aCc7XHJcbmltcG9ydCB7IG1heWJlIH0gZnJvbSAnLi9PcHRpb24nO1xyXG5pbXBvcnQgeyBpZCB9IGZyb20gJy4vRnVuY3Rpb25hbCc7XHJcbmltcG9ydCB7IGFkZCB9IGZyb20gJy4vT3BlcmF0b3InO1xyXG5cclxuLy8gQ3JlYXRpb25cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiAqIG9mKC4uLmVsZW1lbnRzKSB7XHJcbiAgeWllbGQgKiBlbGVtZW50cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uICogemlwKC4uLm90aGVycykge1xyXG4gIGNvbnN0IGFsbCA9IFt0aGlzLCAuLi5vdGhlcnNdLm1hcChpdGVyID0+IGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSgpKTtcclxuICBmb3IgKDs7KSB7XHJcbiAgICBjb25zdCBuZXh0cyA9IGFsbC5tYXAoaXRlciA9PiBpdGVyLm5leHQoKSk7XHJcbiAgICBpZiAobmV4dHMuc29tZShfLmRvbmUpKSB7IHJldHVybjsgfVxyXG4gICAgeWllbGQgbmV4dHMubWFwKF8udmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoYWluKC4uLm90aGVycykge1xyXG4gIHJldHVybiBbdGhpcywgLi4ub3RoZXJzXTo6ZmxhdHRlbigpO1xyXG59XHJcblxyXG4vLyBPcGVyYXRvcnNcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiAqIGZsYXRNYXAodHJhbnNmb3JtKSB7XHJcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIHlpZWxkKiB0cmFuc2Zvcm0oZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gKiBtYXAodHJhbnNmb3JtKSB7XHJcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHlpZWxkIHRyYW5zZm9ybShlbGVtZW50KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcFdpdGgodHJhbnNmb3JtKSB7XHJcbiAgcmV0dXJuIHRoaXM6Om1hcCh4ID0+IFt4LCB0cmFuc2Zvcm0oeCldKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oKSB7XHJcbiAgcmV0dXJuIHRoaXM6OmZsYXRNYXAoaWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gKiBmaWx0ZXIoa2VlcCkge1xyXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKVxyXG4gICAgaWYgKGtlZXAoZWxlbWVudCkpXHJcbiAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiAqIGZpbHRlck1hcCh0cmFuc2Zvcm0pIHtcclxuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcykge1xyXG4gICAgY29uc3QgdHJhbnNmb3JtZWQgPSBlbGVtZW50IHw+IHRyYW5zZm9ybSB8PiBtYXliZTtcclxuICAgIGlmICh0cmFuc2Zvcm1lZC5pc1NvbWUpIHlpZWxkIHRyYW5zZm9ybWVkLnZhbHVlT2YoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiAqIGVudW1lcmF0ZSgpIHtcclxuICBsZXQgaSA9IDA7XHJcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIHlpZWxkIFtpKyssIGVsZW1lbnRdO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQWNjZXNzXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gKiBza2lwKGNvdW50KSB7XHJcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgLS1jb3VudDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gKiB0YWtlKGNvdW50KSB7XHJcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgLS1jb3VudDtcclxuICAgICAgeWllbGQgZWxlbWVudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBudGgobikge1xyXG4gIGNvbnN0IFtlbGVtZW50XSA9IHRoaXM6OnNraXAobik6OnRha2UoMSk7XHJcbiAgcmV0dXJuIG1heWJlKGVsZW1lbnQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGFzdCgpIHtcclxuICBjb25zdCBhcnJheSA9IHRoaXM6OmNvbGxlY3QoQXJyYXkpO1xyXG4gIHJldHVybiBtYXliZShhcnJheVthcnJheS5sZW5ndGggLSAxXSk7XHJcbn1cclxuXHJcbi8vIENvbnN1bXB0aW9uXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gKiBzY2FuKGluaXQsIGFjYykge1xyXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICB5aWVsZCBpbml0ID0gYWNjKGluaXQsIGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvbGQoaW5pdCwgYWNjKSB7XHJcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgIGluaXQgPSBhY2MoaW5pdCwgZWxlbWVudCk7XHJcbiAgfVxyXG4gIHJldHVybiBpbml0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmluZChrZWVwKSB7XHJcbiAgcmV0dXJuIHRoaXM6OmZpbHRlcihrZWVwKTo6bnRoKDApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMocHJlZCkge1xyXG4gIHJldHVybiB0aGlzOjpmaW5kKHByZWQpLmlzU29tZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleChrZWVwKSB7XHJcbiAgcmV0dXJuIHRoaXNcclxuICAgIDo6ZW51bWVyYXRlKClcclxuICAgIDo6ZmlsdGVyKChbXywgaXRlbV0pID0+IGtlZXAoaXRlbSkpXHJcbiAgICA6Om1hcChfWzBdKVxyXG4gICAgOjpudGgoMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3VudCgpIHtcclxuICByZXR1cm4gdGhpczo6Zm9sZCgwLCBjID0+IGMgKyAxKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goaGFuZGxlcikge1xyXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICBoYW5kbGVyKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3QoVHlwZSkge1xyXG4gIHJldHVybiBUeXBlLmZyb21JdGVyKHRoaXMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gKiB0YXAoaGFuZGxlcikge1xyXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICBoYW5kbGVyKGVsZW1lbnQpO1xyXG4gICAgeWllbGQgZWxlbWVudDtcclxuICB9XHJcbn1cclxuXHJcbkFycmF5LmZyb21JdGVyID0gaXRlciA9PiBbLi4uaXRlcl07XHJcbk1hcC5mcm9tSXRlciA9IGl0ZXIgPT4gbmV3IE1hcChpdGVyKTtcclxuU2V0LmZyb21JdGVyID0gaXRlciA9PiBuZXcgU2V0KGl0ZXIpO1xyXG5TdHJpbmcuZnJvbUl0ZXIgPSBpdGVyID0+IG5ldyBTdHJpbmcoWy4uLml0ZXJdLmpvaW4oKSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utility/Iterator.js\n");

/***/ }),

/***/ "./src/utility/Keypath.js":
/*!********************************!*\
  !*** ./src/utility/Keypath.js ***!
  \********************************/
/*! exports provided: _, 位 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_\", function() { return _; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"位\", function() { return 位; });\nconst [PATH, DEREF] = Symbol.generate('PATH', 'DEREF');\n\nclass Keypath extends Function {\n  constructor(...path) {\n    super();\n    this[PATH] = path;\n  }\n\n  [DEREF](object) {\n    for (const key of this) {\n      object = object[key];\n    }\n\n    return object;\n  }\n\n  *[Symbol.iterator]() {\n    yield* this[PATH];\n  }\n\n}\n\nfunction keypath(base) {\n  return new Proxy(base, {\n    get(target, prop) {\n      if (prop !== Symbol.iterator) {\n        return keypath(new Keypath(...target, prop));\n      } else {\n        return target[prop];\n      }\n    },\n\n    apply(target, thisArg, args) {\n      return target[DEREF](...args);\n    }\n\n  });\n}\n\nfunction fnKeypath(base) {\n  return new Proxy(base, {\n    get(target, prop) {\n      if (prop !== Symbol.iterator) {\n        return fnKeypath(new Keypath(...target, prop));\n      } else {\n        return target[prop];\n      }\n    },\n\n    apply(target, thisArg, args) {\n      return object => target[DEREF](object).apply(object, args);\n    }\n\n  });\n}\n\nconst _ = keypath(new Keypath());\nconst 位 = fnKeypath(new Keypath());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9LZXlwYXRoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvS2V5cGF0aC5qcz80NDYwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFtQQVRILCBERVJFRl0gPSBTeW1ib2wuZ2VuZXJhdGUoJ1BBVEgnLCAnREVSRUYnKTtcclxuXHJcbmNsYXNzIEtleXBhdGggZXh0ZW5kcyBGdW5jdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoLi4ucGF0aCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXNbUEFUSF0gPSBwYXRoO1xyXG4gIH1cclxuXHJcbiAgW0RFUkVGXShvYmplY3QpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMpIHtcclxuICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgKiBbU3ltYm9sLml0ZXJhdG9yXSgpIHsgeWllbGQgKiB0aGlzW1BBVEhdOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGtleXBhdGgoYmFzZSkge1xyXG4gIHJldHVybiBuZXcgUHJveHkoYmFzZSwge1xyXG4gICAgZ2V0KHRhcmdldCwgcHJvcCkge1xyXG4gICAgICBpZiAocHJvcCAhPT0gU3ltYm9sLml0ZXJhdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleXBhdGgobmV3IEtleXBhdGgoLi4udGFyZ2V0LCBwcm9wKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBhcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtcclxuICAgICAgcmV0dXJuIHRhcmdldFtERVJFRl0oLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZuS2V5cGF0aChiYXNlKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm94eShiYXNlLCB7XHJcbiAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XHJcbiAgICAgIGlmIChwcm9wICE9PSBTeW1ib2wuaXRlcmF0b3IpIHtcclxuICAgICAgICByZXR1cm4gZm5LZXlwYXRoKG5ldyBLZXlwYXRoKC4uLnRhcmdldCwgcHJvcCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7XHJcbiAgICAgIHJldHVybiBvYmplY3QgPT4gdGFyZ2V0W0RFUkVGXShvYmplY3QpLmFwcGx5KG9iamVjdCwgYXJncyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBfID0ga2V5cGF0aChuZXcgS2V5cGF0aCk7XHJcblxyXG5leHBvcnQgY29uc3QgzrsgPSBmbktleXBhdGgobmV3IEtleXBhdGgpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFkQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWFBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utility/Keypath.js\n");

/***/ }),

/***/ "./src/utility/Operator.js":
/*!*********************************!*\
  !*** ./src/utility/Operator.js ***!
  \*********************************/
/*! exports provided: add, sub, mul, div, mod, pow, eq, ne, and, or, not, lt, le, gt, ge, band, bor, xor, inv, lsh, rsh, zrsh, del, instanceOf, type, hasKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"add\", function() { return add; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sub\", function() { return sub; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mul\", function() { return mul; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"div\", function() { return div; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mod\", function() { return mod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pow\", function() { return pow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eq\", function() { return eq; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ne\", function() { return ne; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"and\", function() { return and; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"or\", function() { return or; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"not\", function() { return not; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lt\", function() { return lt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"le\", function() { return le; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"gt\", function() { return gt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ge\", function() { return ge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"band\", function() { return band; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bor\", function() { return bor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"xor\", function() { return xor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inv\", function() { return inv; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lsh\", function() { return lsh; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rsh\", function() { return rsh; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"zrsh\", function() { return zrsh; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"del\", function() { return del; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"instanceOf\", function() { return instanceOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"type\", function() { return type; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasKey\", function() { return hasKey; });\nfunction add(a) {\n  return b => b + a;\n}\nfunction sub(a) {\n  return b => b - a;\n}\nfunction mul(a) {\n  return b => b * a;\n}\nfunction div(a) {\n  return b => b / a;\n}\nfunction mod(a) {\n  return b => b % a;\n}\nfunction pow(a) {\n  return b => b ** a;\n}\nfunction eq(a) {\n  return b => a === b;\n}\nfunction ne(a) {\n  return b => a !== b;\n}\nfunction and(a) {\n  return b => a && b;\n}\nfunction or(a) {\n  return b => a || b;\n}\nfunction not() {\n  return a => !a;\n}\nfunction lt(a) {\n  return b => b < a;\n}\nfunction le(a) {\n  return b => b <= a;\n}\nfunction gt(a) {\n  return b => b > a;\n}\nfunction ge(a) {\n  return b => b >= a;\n}\nfunction band(a) {\n  return b => a & b;\n}\nfunction bor(a) {\n  return b => a | b;\n}\nfunction xor(a) {\n  return b => a ^ b;\n}\nfunction inv() {\n  return a => ~a;\n}\nfunction lsh(a) {\n  return b => b << a;\n}\nfunction rsh(a) {\n  return b => b >> a;\n}\nfunction zrsh(a) {\n  return b => b >>> a;\n}\nfunction del(key) {\n  return obj => delete obj[key];\n}\nfunction instanceOf(Type) {\n  return obj => obj instanceof Type;\n}\nfunction type() {\n  return obj => typeof obj;\n}\nfunction hasKey(key) {\n  return obj => key in obj;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9PcGVyYXRvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlsaXR5L09wZXJhdG9yLmpzPzVlYmUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGFkZChhKSB7IHJldHVybiBiID0+IGIgKyBhOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBzdWIoYSkgeyByZXR1cm4gYiA9PiBiIC0gYTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gbXVsKGEpIHsgcmV0dXJuIGIgPT4gYiAqIGE7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIGRpdihhKSB7IHJldHVybiBiID0+IGIgLyBhOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBtb2QoYSkgeyByZXR1cm4gYiA9PiBiICUgYTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gcG93KGEpIHsgcmV0dXJuIGIgPT4gYiAqKiBhOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBlcShhKSB7IHJldHVybiBiID0+IGEgPT09IGI7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIG5lKGEpIHsgcmV0dXJuIGIgPT4gYSAhPT0gYjsgfVxyXG5leHBvcnQgZnVuY3Rpb24gYW5kKGEpIHsgcmV0dXJuIGIgPT4gYSAmJiBiOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBvcihhKSB7IHJldHVybiBiID0+IGEgfHwgYjsgfVxyXG5leHBvcnQgZnVuY3Rpb24gbm90KCkgeyByZXR1cm4gYSA9PiAhYTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gbHQoYSkgeyByZXR1cm4gYiA9PiBiIDwgYTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gbGUoYSkgeyByZXR1cm4gYiA9PiBiIDw9IGE7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIGd0KGEpIHsgcmV0dXJuIGIgPT4gYiA+IGE7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIGdlKGEpIHsgcmV0dXJuIGIgPT4gYiA+PSBhOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBiYW5kKGEpIHsgcmV0dXJuIGIgPT4gYSAmIGI7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIGJvcihhKSB7IHJldHVybiBiID0+IGEgfCBiOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiB4b3IoYSkgeyByZXR1cm4gYiA9PiBhIF4gYjsgfVxyXG5leHBvcnQgZnVuY3Rpb24gaW52KCkgeyByZXR1cm4gYSA9PiB+YTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gbHNoKGEpIHsgcmV0dXJuIGIgPT4gYiA8PCBhOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiByc2goYSkgeyByZXR1cm4gYiA9PiBiID4+IGE7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIHpyc2goYSkgeyByZXR1cm4gYiA9PiBiID4+PiBhOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBkZWwoa2V5KSB7IHJldHVybiBvYmogPT4gZGVsZXRlIG9ialtrZXldOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBpbnN0YW5jZU9mKFR5cGUpIHsgcmV0dXJuIG9iaiA9PiBvYmogaW5zdGFuY2VvZiBUeXBlOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlKCkgeyByZXR1cm4gb2JqID0+IHR5cGVvZiBvYmo7IH1cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0tleShrZXkpIHsgcmV0dXJuIG9iaiA9PiBrZXkgaW4gb2JqOyB9XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utility/Operator.js\n");

/***/ }),

/***/ "./src/utility/Option.js":
/*!*******************************!*\
  !*** ./src/utility/Option.js ***!
  \*******************************/
/*! exports provided: UnwrapError, Option, None, Some, maybe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnwrapError\", function() { return UnwrapError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Option\", function() { return Option; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"None\", function() { return None; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Some\", function() { return Some; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"maybe\", function() { return maybe; });\n/* harmony import */ var _Iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Iterator */ \"./src/utility/Iterator.js\");\n\nconst [CASE, ELEMENT, SOME, NONE, NO_ELEMENT] = Symbol.generate('CASE', 'ELEMENT', 'SOME', 'NONE', 'NO_ELEMENT');\nclass UnwrapError extends Error {\n  constructor() {\n    super(\"Tried to unwrap `Option`, but found `None`\");\n  }\n\n}\nclass Option {\n  static fromIter(iter) {\n    return _Iterator__WEBPACK_IMPORTED_MODULE_0__[\"nth\"].call(iter, 0);\n  }\n\n  valueOr(alternative) {\n    if (this[CASE] === NONE) {\n      return alternative;\n    }\n\n    return this[ELEMENT];\n  }\n\n  valueOrElse(alternative) {\n    if (this[CASE] === NONE) {\n      return alternative();\n    }\n\n    return this[ELEMENT];\n  }\n\n  valueOf() {\n    if (this[CASE] === NONE) {\n      throw new UnwrapError();\n    }\n\n    return this[ELEMENT];\n  }\n\n  constructor(element = NO_ELEMENT) {\n    this[CASE] = element === NO_ELEMENT ? NONE : SOME;\n    this[ELEMENT] = element;\n  }\n\n  get isNone() {\n    return this[CASE] === NONE;\n  }\n\n  get isSome() {\n    return this[CASE] === SOME;\n  }\n\n  and(other) {\n    if (this.isSome && other.isSome) {\n      return Some([this.valueOf(), other.valueOf()]);\n    }\n\n    return None;\n  }\n\n  or(alternative) {\n    return this.isSome ? this : maybe(alternative);\n  }\n\n  orElse(alternative) {\n    return this.isSome ? this : maybe(alternative());\n  }\n\n  match({\n    Some,\n    None\n  }) {\n    return this.isSome ? Some(this[ELEMENT]) : None();\n  }\n\n  toString() {\n    return this.match({\n      None: () => 'None',\n      Some: value => `Some(${value})`\n    });\n  }\n\n  *[Symbol.iterator]() {\n    if (this.isSome) {\n      yield this[ELEMENT];\n    }\n  }\n\n}\nconst None = new Option();\nconst Some = element => new Option(element);\nconst maybe = element => {\n  if (element instanceof Option) {\n    return element;\n  }\n\n  if (element === null || element === undefined) {\n    return None;\n  }\n\n  return Some(element);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9PcHRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0eS9PcHRpb24uanM/ODMxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBudGggfSBmcm9tICcuL0l0ZXJhdG9yJztcclxuY29uc3QgW0NBU0UsIEVMRU1FTlQsIFNPTUUsIE5PTkUsIE5PX0VMRU1FTlRdID0gU3ltYm9sLmdlbmVyYXRlKCdDQVNFJywgJ0VMRU1FTlQnLCAnU09NRScsICdOT05FJywgJ05PX0VMRU1FTlQnKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBVbndyYXBFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKFwiVHJpZWQgdG8gdW53cmFwIGBPcHRpb25gLCBidXQgZm91bmQgYE5vbmVgXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9wdGlvbiB7XHJcbiAgc3RhdGljIGZyb21JdGVyKGl0ZXIpIHtcclxuICAgIHJldHVybiBpdGVyOjpudGgoMCk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZU9yKGFsdGVybmF0aXZlKSB7XHJcbiAgICBpZiAodGhpc1tDQVNFXSA9PT0gTk9ORSkgeyByZXR1cm4gYWx0ZXJuYXRpdmU7IH1cclxuICAgIHJldHVybiB0aGlzW0VMRU1FTlRdO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVPckVsc2UoYWx0ZXJuYXRpdmUpIHtcclxuICAgIGlmICh0aGlzW0NBU0VdID09PSBOT05FKSB7IHJldHVybiBhbHRlcm5hdGl2ZSgpOyB9XHJcbiAgICByZXR1cm4gdGhpc1tFTEVNRU5UXTtcclxuICB9XHJcblxyXG4gIHZhbHVlT2YoKSB7XHJcbiAgICBpZiAodGhpc1tDQVNFXSA9PT0gTk9ORSkgeyB0aHJvdyBuZXcgVW53cmFwRXJyb3IoKTsgfVxyXG4gICAgcmV0dXJuIHRoaXNbRUxFTUVOVF07XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihlbGVtZW50ID0gTk9fRUxFTUVOVCkge1xyXG4gICAgdGhpc1tDQVNFXSA9IGVsZW1lbnQgPT09IE5PX0VMRU1FTlQgPyBOT05FIDogU09NRTtcclxuICAgIHRoaXNbRUxFTUVOVF0gPSBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzTm9uZSgpIHsgcmV0dXJuIHRoaXNbQ0FTRV0gPT09IE5PTkU7IH1cclxuICBnZXQgaXNTb21lKCkgeyByZXR1cm4gdGhpc1tDQVNFXSA9PT0gU09NRTsgfVxyXG5cclxuICBhbmQob3RoZXIpIHtcclxuICAgIGlmICh0aGlzLmlzU29tZSAmJiBvdGhlci5pc1NvbWUpIHtcclxuICAgICAgcmV0dXJuIFNvbWUoW3RoaXMudmFsdWVPZigpLCBvdGhlci52YWx1ZU9mKCldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBOb25lO1xyXG4gIH1cclxuXHJcbiAgb3IoYWx0ZXJuYXRpdmUpIHtcclxuICAgIHJldHVybiB0aGlzLmlzU29tZSA/IHRoaXMgOiBtYXliZShhbHRlcm5hdGl2ZSk7XHJcbiAgfVxyXG5cclxuICBvckVsc2UoYWx0ZXJuYXRpdmUpIHtcclxuICAgIHJldHVybiB0aGlzLmlzU29tZSA/IHRoaXMgOiBtYXliZShhbHRlcm5hdGl2ZSgpKTtcclxuICB9XHJcblxyXG4gIG1hdGNoKHsgU29tZSwgTm9uZSB9KSB7XHJcbiAgICByZXR1cm4gdGhpcy5pc1NvbWUgPyBTb21lKHRoaXNbRUxFTUVOVF0pIDogTm9uZSgpO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXRjaCh7XHJcbiAgICAgIE5vbmU6ICgpID0+ICdOb25lJyxcclxuICAgICAgU29tZTogKHZhbHVlKSA9PiBgU29tZSgke3ZhbHVlfSlgLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICBpZiAodGhpcy5pc1NvbWUpIHtcclxuICAgICAgeWllbGQgdGhpc1tFTEVNRU5UXTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBOb25lID0gbmV3IE9wdGlvbigpO1xyXG5leHBvcnQgY29uc3QgU29tZSA9IGVsZW1lbnQgPT4gbmV3IE9wdGlvbihlbGVtZW50KTtcclxuXHJcbmV4cG9ydCBjb25zdCBtYXliZSA9IGVsZW1lbnQgPT4ge1xyXG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgT3B0aW9uKSB7IHJldHVybiBlbGVtZW50OyB9XHJcbiAgaWYgKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiBOb25lOyB9XHJcbiAgcmV0dXJuIFNvbWUoZWxlbWVudCk7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzREE7QUE2REE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utility/Option.js\n");

/***/ }),

/***/ "./src/utility/Svg.js":
/*!****************************!*\
  !*** ./src/utility/Svg.js ***!
  \****************************/
/*! exports provided: createElement, setAttribute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAttribute\", function() { return setAttribute; });\nconst svgNS = \"http://www.w3.org/2000/svg\";\nfunction createElement(name) {\n  return document.createElementNS(svgNS, name);\n}\nfunction setAttribute(name, value) {\n  this.setAttributeNS(null, name, value);\n  return this;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbGl0eS9TdmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0eS9TdmcuanM/Zjg2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KG5hbWUpIHtcclxuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCBuYW1lKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkge1xyXG4gIHRoaXMuc2V0QXR0cmlidXRlTlMobnVsbCwgbmFtZSwgdmFsdWUpO1xyXG4gIHJldHVybiB0aGlzO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utility/Svg.js\n");

/***/ })

/******/ });